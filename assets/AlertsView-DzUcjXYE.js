import{H as P,d as W,r as c,c as b,o as q,b as s,e,y as f,z as Y,f as d,u as l,A as J,B as A,C,i as p,t as a,N as Q,F as G,m as K,h as i,q as m,J as X,M as Z,j as T,x as ee}from"./index-CBlyhhB_.js";import{C as S}from"./chevron-down-CAD7_O72.js";import{C as R}from"./circle-check-big-Bb_rpdUY.js";import{T as te}from"./triangle-alert-q2U_FGmO.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=P("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=P("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),ae={class:"alerts-container dark:bg-gray-900"},se={class:"mb-6 flex justify-between items-center"},de={class:"flex space-x-2"},le={class:"relative"},ie={class:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},ne={class:"relative"},ce={class:"relative"},ue={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},pe={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},ge={class:"flex justify-between items-start"},ye={class:"text-2xl font-bold dark:text-white"},xe={class:"rounded-full bg-gray-100 dark:bg-gray-700 p-2"},be={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},ke={class:"flex justify-between items-start"},he={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ve={class:"rounded-full bg-red-100 dark:bg-red-900 p-2"},fe={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},me={class:"flex justify-between items-start"},we={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_e={class:"rounded-full bg-blue-100 dark:bg-blue-900 p-2"},Ae={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},Ce={class:"flex justify-between items-start"},Te={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},Se={class:"rounded-full bg-yellow-100 dark:bg-yellow-900 p-2"},Re={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},Pe={key:0,class:"flex justify-center items-center h-64"},Le={key:1,class:"text-red-500 dark:text-red-400 text-center py-8"},Ne={key:2,class:"text-center py-8 text-gray-500 dark:text-gray-400"},De={key:3},Oe={class:"overflow-x-auto"},Ie={class:"w-full border-collapse"},Me={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-200"},Be={class:"px-6 py-4 text-sm dark:text-gray-200"},Ve={class:"font-medium"},He={class:"text-gray-500 dark:text-gray-400 text-xs mt-1"},je={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-200"},Fe={class:"flex items-center"},Ue={class:"h-8 w-8 flex-shrink-0 bg-gray-100 dark:bg-gray-700 rounded mr-3"},$e={class:"h-8 w-8 flex items-center justify-center text-gray-500 dark:text-gray-400"},ze={class:"px-6 py-4 whitespace-nowrap text-sm"},We={class:"px-6 py-4 whitespace-nowrap text-sm"},qe={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-200"},Ye={key:0,class:"text-gray-500 dark:text-gray-400 flex items-center"},Je={key:1,class:"text-blue-600 dark:text-blue-400 flex items-center"},Qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ge=["onClick"],Ke=["onClick"],Xe=["onClick"],Ze={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center border-t border-gray-200 dark:border-gray-600"},et={class:"text-sm text-gray-500 dark:text-gray-400"},tt={class:"font-medium"},rt={class:"font-medium"},ot={class:"font-medium"},at={class:"flex space-x-2"},st=["disabled"],dt=["disabled"],pt=W({__name:"AlertsView",setup(lt){const k=c(""),h=c("all"),v=c("all"),g=c(1),x=c(10),L=c(!1),w=c(""),N=ee(),n=c({total:42,critical:7,unread:15,lowStock:18}),u=c([{id:"ALERT-001",date:"2025-04-27T08:30:00",title:"Low Stock Alert",description:"Stainless Steel Water Bottle is running low on stock.",productId:"PROD-005",productName:"Stainless Steel Water Bottle",type:"low_stock",priority:"medium",read:!1},{id:"ALERT-002",date:"2025-04-27T08:25:00",title:"Out of Stock Alert",description:"Compact Blender is now out of stock.",productId:"PROD-006",productName:"Compact Blender",type:"out_of_stock",priority:"high",read:!1},{id:"ALERT-003",date:"2025-04-27T07:45:00",title:"Low Stock Alert",description:"Yoga Mat is running low on stock.",productId:"PROD-008",productName:"Yoga Mat",type:"low_stock",priority:"medium",read:!0},{id:"ALERT-004",date:"2025-04-26T16:20:00",title:"Auto Reorder Triggered",description:"Premium Coffee Maker has reached the reorder threshold. Auto reorder initiated.",productId:"PROD-001",productName:"Premium Coffee Maker",type:"reorder",priority:"low",read:!1},{id:"ALERT-005",date:"2025-04-26T14:15:00",title:"Price Change Alert",description:"Wireless Bluetooth Headphones price changed from $79.99 to $89.99.",productId:"PROD-002",productName:"Wireless Bluetooth Headphones",type:"price_change",priority:"low",read:!0},{id:"ALERT-006",date:"2025-04-26T11:30:00",title:"Expiring Soon",description:"Organic Fair Trade Coffee has 10 units expiring in 7 days.",productId:"PROD-007",productName:"Organic Fair Trade Coffee",type:"expiring",priority:"critical",read:!1},{id:"ALERT-007",date:"2025-04-26T09:45:00",title:"Low Stock Alert",description:"HDMI Cable is running low on stock.",productId:"PROD-089",productName:"HDMI Cable",type:"low_stock",priority:"medium",read:!1},{id:"ALERT-008",date:"2025-04-25T15:10:00",title:"Out of Stock Alert",description:"Smart Home Speaker is now out of stock.",productId:"PROD-078",productName:"Smart Home Speaker",type:"out_of_stock",priority:"high",read:!0},{id:"ALERT-009",date:"2025-04-25T13:20:00",title:"Auto Reorder Triggered",description:"Coffee Filters has reached the reorder threshold. Auto reorder initiated.",productId:"PROD-045",productName:"Coffee Filters",type:"reorder",priority:"low",read:!0},{id:"ALERT-010",date:"2025-04-25T10:05:00",title:"Expiring Soon",description:"Organic Coffee Beans has 5 units expiring in 3 days.",productId:"PROD-123",productName:"Organic Coffee Beans",type:"expiring",priority:"critical",read:!1}]),y=b(()=>{if(!u.value||u.value.length===0)return[];let o=[...u.value];if(h.value!=="all"&&(o=o.filter(t=>t.type===h.value)),v.value!=="all"&&(o=o.filter(t=>t.priority===v.value)),k.value){const t=k.value.toLowerCase();o=o.filter(r=>r.title.toLowerCase().includes(t)||r.description.toLowerCase().includes(t)||r.productName.toLowerCase().includes(t))}return o.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime())}),D=b(()=>{const o=(g.value-1)*x.value,t=o+x.value;return y.value.slice(o,t)}),O=b(()=>Math.ceil(y.value.length/x.value)),I=b(()=>y.value.length>0?(g.value-1)*x.value+1:0),M=b(()=>{const o=g.value*x.value;return o>y.value.length?y.value.length:o}),E=o=>{try{if(!o)return"N/A";const t=new Date(o);return isNaN(t.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch(t){return console.error("Error formatting date:",o,t),"Invalid date"}},B=o=>{switch(o){case"low_stock":return"Low Stock";case"out_of_stock":return"Out of Stock";case"expiring":return"Expiring Soon";case"price_change":return"Price Change";case"reorder":return"Auto Reorder";default:return o.replace("_"," ").replace(/\b\w/g,t=>t.toUpperCase())}},V=o=>{switch(o){case"low_stock":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"out_of_stock":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"expiring":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"price_change":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"reorder":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},H=o=>o.charAt(0).toUpperCase()+o.slice(1),j=o=>{switch(o){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},F=o=>{const t=u.value.find(r=>r.id===o);t&&(t.read=!0,n.value.unread--)},U=()=>{u.value.forEach(o=>{o.read=!0}),n.value.unread=0},$=o=>{const t=u.value.findIndex(r=>r.id===o);if(t!==-1){const r=u.value[t];r.read||n.value.unread--,r.priority==="critical"&&n.value.critical--,r.type==="low_stock"&&n.value.lowStock--,n.value.total--,u.value.splice(t,1)}},z=o=>{N.push(`/inventory/purchase-orders/create?product=${o}`)};return q(()=>{console.log("Alerts view mounted")}),(o,t)=>(i(),s("div",ae,[e("header",se,[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-3xl font-bold dark:text-white"},"Inventory Alerts"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"View and manage inventory alerts and issues")],-1)),e("div",de,[e("div",le,[f(e("input",{type:"text",placeholder:"Search alerts...",class:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":t[0]||(t[0]=r=>k.value=r)},null,512),[[Y,k.value]]),e("button",ie,[d(l(J),{class:"w-5 h-5"})])]),e("div",ne,[f(e("select",{class:"appearance-none px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8","onUpdate:modelValue":t[1]||(t[1]=r=>h.value=r)},t[5]||(t[5]=[C('<option value="all">All Alert Types</option><option value="low_stock">Low Stock</option><option value="out_of_stock">Out of Stock</option><option value="expiring">Expiring Soon</option><option value="price_change">Price Change</option><option value="reorder">Auto Reorder</option>',6)]),512),[[A,h.value]]),d(l(S),{class:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]),e("div",ce,[f(e("select",{class:"appearance-none px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8","onUpdate:modelValue":t[2]||(t[2]=r=>v.value=r)},t[6]||(t[6]=[C('<option value="all">All Priorities</option><option value="critical">Critical</option><option value="high">High</option><option value="medium">Medium</option><option value="low">Low</option>',5)]),512),[[A,v.value]]),d(l(S),{class:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]),e("button",{class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white font-medium rounded-lg transition-colors",onClick:U},[d(l(R),{class:"w-5 h-5 mr-1 inline-block"}),t[7]||(t[7]=p(" Mark All Read "))])])]),e("div",ue,[e("div",pe,[e("div",ge,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Alerts",-1)),e("p",ye,a(n.value.total),1)]),e("div",xe,[d(l(te),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})])])]),e("div",be,[e("div",ke,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Critical",-1)),e("p",he,a(n.value.critical),1)]),e("div",ve,[d(l(oe),{class:"w-5 h-5 text-red-600 dark:text-red-400"})])])]),e("div",fe,[e("div",me,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Unread",-1)),e("p",we,a(n.value.unread),1)]),e("div",_e,[d(l(Q),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})])])]),e("div",Ae,[e("div",Ce,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Low Stock",-1)),e("p",Te,a(n.value.lowStock),1)]),e("div",Se,[d(l(re),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})])])])]),e("section",Re,[L.value?(i(),s("div",Pe,t[13]||(t[13]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"},null,-1)]))):w.value?(i(),s("div",Le,a(w.value),1)):y.value.length===0?(i(),s("div",Ne," No alerts found. ")):(i(),s("div",De,[e("div",Oe,[e("table",Ie,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"Date"),e("th",{class:"px-6 py-3"},"Alert"),e("th",{class:"px-6 py-3"},"Product"),e("th",{class:"px-6 py-3"},"Type"),e("th",{class:"px-6 py-3"},"Priority"),e("th",{class:"px-6 py-3"},"Status"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",Me,[(i(!0),s(G,null,K(D.value,r=>(i(),s("tr",{key:r.id,class:m(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-blue-50 dark:bg-blue-900/20":!r.read}])},[e("td",Ee,a(E(r.date)),1),e("td",Be,[e("div",Ve,a(r.title),1),e("div",He,a(r.description),1)]),e("td",je,[e("div",Fe,[e("div",Ue,[e("div",$e,[d(l(X),{class:"w-4 h-4"})])]),p(" "+a(r.productName),1)])]),e("td",ze,[e("span",{class:m(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",V(r.type)])},a(B(r.type)),3)]),e("td",We,[e("span",{class:m(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",j(r.priority)])},a(H(r.priority)),3)]),e("td",qe,[r.read?(i(),s("span",Ye,[d(l(R),{class:"w-4 h-4 mr-1"}),t[14]||(t[14]=p(" Read "))])):(i(),s("span",Je,[d(l(Z),{class:"w-4 h-4 mr-1"}),t[15]||(t[15]=p(" Unread "))]))]),e("td",Qe,[r.read?T("",!0):(i(),s("button",{key:0,class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3",onClick:_=>F(r.id)}," Mark Read ",8,Ge)),e("button",{class:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 mr-3",onClick:_=>$(r.id)}," Resolve ",8,Ke),r.type==="low_stock"||r.type==="out_of_stock"||r.type==="reorder"?(i(),s("button",{key:1,class:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300",onClick:_=>z(r.productId)}," Order ",8,Xe)):T("",!0)])],2))),128))])])]),e("div",Ze,[e("div",et,[t[17]||(t[17]=p(" Showing ")),e("span",tt,a(I.value),1),t[18]||(t[18]=p(" to ")),e("span",rt,a(M.value),1),t[19]||(t[19]=p(" of ")),e("span",ot,a(y.value.length),1),t[20]||(t[20]=p(" alerts "))]),e("div",at,[e("button",{class:"px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm disabled:opacity-50",disabled:g.value===1,onClick:t[3]||(t[3]=r=>g.value--)}," Previous ",8,st),e("button",{class:"px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm disabled:opacity-50",disabled:g.value===O.value,onClick:t[4]||(t[4]=r=>g.value++)}," Next ",8,dt)])])]))])]))}});export{pt as default};
