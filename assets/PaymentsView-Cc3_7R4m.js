import{H as l,d as j,c as h,k as R,o as S,b as o,j as k,l as b,e,F as f,m as w,u as y,t as n,p as q,h as s,q as d,s as B,aP as I,x as L}from"./index-CBlyhhB_.js";import{u as F}from"./paymentsStore-DGeoRBLV.js";import{R as N}from"./refresh-ccw-Z9glMWGs.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=l("chart-column-increasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=l("landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=l("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=l("terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),H={class:"payments-container dark:bg-gray-900"},U={key:0},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},G=["onClick"],J={class:"flex items-center"},K={class:"text-gray-500 dark:text-gray-400 text-sm"},O={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-100 dark:border-gray-700"},Q={key:0,class:"flex justify-center items-center h-40"},X={key:1,class:"text-red-500 dark:text-red-400 text-center py-4"},Y={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Z={key:3},ee={class:"overflow-x-auto"},te={class:"w-full border-collapse"},re={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ae={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},se={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},oe={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},ne={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},de={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},ie={class:"px-6 py-4 whitespace-nowrap"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},le=["onClick"],xe=j({__name:"PaymentsView",setup(pe){const _=L(),i=R(),c=F(),{isLoading:v,error:g,fetchTransactions:C}=c,u=h(()=>i.path==="/payments"||i.path==="/payments/");S(async()=>{try{await C()}catch(r){console.error("Error fetching transactions:",r)}});const x=h(()=>!c.transactions||c.transactions.length===0?[]:[...c.transactions].sort((r,a)=>new Date(a.date).getTime()-new Date(r.date).getTime()).slice(0,5)),p=r=>!!(r==="/payments"&&i.path==="/payments"||r!=="/payments"&&i.path.startsWith(r)),M=[{title:"Payment Methods",description:"Configure payment options",icon:I,route:"/payments/methods",bgColor:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-300"},{title:"Transactions",description:"View transaction history",icon:A,route:"/payments/transactions",bgColor:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-300"},{title:"Refunds",description:"Process payment refunds",icon:N,route:"/payments/refunds",bgColor:"bg-red-100 dark:bg-red-900",iconColor:"text-red-600 dark:text-red-300"},{title:"Virtual Terminal",description:"Process card-not-present payments",icon:E,route:"/payments/virtual-terminal",bgColor:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-300"},{title:"Reconciliation",description:"Balance and reconcile payments",icon:$,route:"/payments/reconciliation",bgColor:"bg-amber-100 dark:bg-amber-900",iconColor:"text-amber-600 dark:text-amber-300"},{title:"Card Present Reports",description:"View in-person transaction reports",icon:z,route:"/payments/card-present",bgColor:"bg-indigo-100 dark:bg-indigo-900",iconColor:"text-indigo-600 dark:text-indigo-300"}],m=r=>{_.push(r)},T=r=>{const a=new Date(r);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)},P=r=>{switch(r){case"captured":case"settled":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"authorized":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"failed":case"voided":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"refunded":case"partially_refunded":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return(r,a)=>{const D=q("router-view");return s(),o("div",H,[u.value?(s(),o("div",U,[a[3]||(a[3]=e("header",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold dark:text-white"},"Payment Processing"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"Manage payment methods, transactions, and reconciliation")],-1)),e("section",W,[(s(),o(f,null,w(M,t=>e("div",{key:t.title,class:d(["bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer",{"ring-2 ring-offset-2 dark:ring-offset-gray-900":p(t.route)}]),onClick:V=>m(t.route)},[e("div",J,[e("div",{class:d(["rounded-full p-3 mr-4",[t.bgColor,p(t.route)?"ring-1 ring-offset-1 dark:ring-offset-gray-800":""]])},[(s(),b(B(t.icon),{class:d(["h-6 w-6",t.iconColor])},null,8,["class"]))],2),e("div",null,[e("h3",{class:d(["font-semibold text-lg dark:text-white",{"text-blue-700 dark:text-blue-400":p(t.route)}])},n(t.title),3),e("p",K,n(t.description),1)])])],10,G)),64))]),e("section",O,[a[2]||(a[2]=e("h2",{class:"text-xl font-bold mb-4 dark:text-white"},"Recent Transactions",-1)),y(v)?(s(),o("div",Q,a[0]||(a[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"},null,-1)]))):y(g)?(s(),o("div",X,n(y(g)),1)):x.value.length===0?(s(),o("div",Y," No recent transactions found. ")):(s(),o("div",Z,[e("div",ee,[e("table",te,[a[1]||(a[1]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"ID"),e("th",{class:"px-6 py-3"},"Date"),e("th",{class:"px-6 py-3"},"Customer"),e("th",{class:"px-6 py-3"},"Method"),e("th",{class:"px-6 py-3"},"Amount"),e("th",{class:"px-6 py-3"},"Status"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",re,[(s(!0),o(f,null,w(x.value,t=>(s(),o("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",ae,n(t.id),1),e("td",se,n(T(t.date)),1),e("td",oe,n(t.customerId),1),e("td",ne,n(t.paymentMethodName),1),e("td",de,"$"+n(t.amount.toFixed(2)),1),e("td",ie,[e("span",{class:d(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",P(t.status)])},n(t.status),3)]),e("td",ce,[e("button",{class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3",onClick:V=>m(`/payments/transactions/${t.id}`)}," View ",8,le)])]))),128))])])])]))])])):k("",!0),u.value?k("",!0):(s(),b(D,{key:1}))])}}});export{xe as default};
