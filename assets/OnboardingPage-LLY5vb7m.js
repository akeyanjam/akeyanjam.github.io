import{c as be,d as X,s as xe,T as pe,V as ee,a as V,W as De,b as S,o as m,w as a,y as ye,u as e,P as we,X as Re,z as _e,B as Oe,D as Me,e as l,l as je,j as P,Y as Be,h as v,g as s,f as d,t as u,m as D,F as N,k as A,G as C,R as fe,i as F,S as Fe}from"./index-6xlqELlD.js";import{b as Ie,_ as Z,a as ne}from"./EntityHeader.vue_vue_type_script_setup_true_lang-CAtsaN7F.js";import{a as Le,_ as qe,b as Ee}from"./CardTitle.vue_vue_type_script_setup_true_lang-hwoaRCTa.js";import{i as ke,_ as E,a as T,b as z,c as W,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-Ck1m-3qh.js";import{_ as Te,a as ce,b as I,c as ze,d as L,e as We}from"./TableHeader.vue_vue_type_script_setup_true_lang-BdWTU7p7.js";import{u as Ye,_ as Xe,a as U,b as re,c as Je,d as Qe}from"./useApi-BNdd-B_u.js";import{_ as Ge,a as He,b as Ke}from"./index-CJIjmB6t.js";import{_ as j}from"./index-Dbn-_OPZ.js";import{h as Ve,j as $e,k as Ce,_ as ve,g as ge}from"./SheetTitle.vue_vue_type_script_setup_true_lang-sLGFPffH.js";import{_ as O}from"./Textarea.vue_vue_type_script_setup_true_lang-BXblJYGi.js";import{_ as M}from"./Switch.vue_vue_type_script_setup_true_lang-woUsyIjQ.js";import{P as Ze}from"./plus-Ck5Fjiap.js";import{L as et}from"./list-filter-BLgUJPaQ.js";import"./VisuallyHidden-B8DorUYk.js";import"./VisuallyHiddenInput-DExbp1xW.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=be("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=be("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),Y=100,[lt,at]=De("ProgressRoot"),te=c=>typeof c=="number";function ot(c,_){return ke(c)||te(c)&&!Number.isNaN(c)&&c<=_&&c>=0?c:(console.error(`Invalid prop \`value\` of value \`${c}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function nt(c){return te(c)&&!Number.isNaN(c)&&c>0?c:(console.error(`Invalid prop \`max\` of value \`${c}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y}\`.`),Y)}var rt=X({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:Y},getValueLabel:{type:Function,required:!1,default:(c,_)=>te(c)?`${Math.round(c/_*Y)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(c,{emit:_}){const g=c,x=_;xe();const f=pe(g,"modelValue",x,{passive:g.modelValue===void 0}),y=pe(g,"max",x,{passive:g.max===void 0});ee(()=>f.value,async w=>{const k=ot(w,g.max);k!==w&&(await Re(),f.value=k)},{immediate:!0}),ee(()=>g.max,w=>{const k=nt(g.max);k!==w&&(y.value=k)},{immediate:!0});const o=V(()=>ke(f.value)?"indeterminate":f.value===y.value?"complete":"loading");return at({modelValue:f,max:y,progressState:o}),(w,k)=>(m(),S(e(we),{"as-child":w.asChild,as:w.as,"aria-valuemax":e(y),"aria-valuemin":0,"aria-valuenow":te(e(f))?e(f):void 0,"aria-valuetext":w.getValueText?.(e(f),e(y)),"aria-label":w.getValueLabel(e(f),e(y)),role:"progressbar","data-state":o.value,"data-value":e(f)??void 0,"data-max":e(y)},{default:a(()=>[ye(w.$slots,"default",{modelValue:e(f)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),it=rt,dt=X({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(c){const _=c,g=lt();return xe(),(x,f)=>(m(),S(e(we),_e(_,{"data-state":e(g).progressState.value,"data-value":e(g).modelValue?.value??void 0,"data-max":e(g).max.value}),{default:a(()=>[ye(x.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),ut=dt;const ie=X({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(c){const _=c,g=Oe(_,"class");return(x,f)=>(m(),S(e(it),_e({"data-slot":"progress"},e(g),{class:e(Me)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",_.class)}),{default:a(()=>[l(e(ut),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:je(`transform: translateX(-${100-(_.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),mt={class:"flex h-full flex-col gap-4"},pt={class:"space-y-4 rounded-lg border border-border/60 bg-card/60 p-4"},ft={class:"flex flex-col gap-4"},ct={class:"flex flex-wrap items-start justify-between gap-4"},vt={class:"flex flex-wrap justify-end gap-2"},gt={class:"flex flex-wrap gap-2"},bt={class:"mt-2 flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground"},xt={class:"flex-1 overflow-y-auto rounded-lg border border-border/60 bg-card/40 p-4"},yt={class:"space-y-6 pb-6"},wt={key:0,class:"space-y-4"},_t={class:"grid gap-4"},kt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Vt={key:1,class:"space-y-6"},$t={class:"grid gap-4"},Ct={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},St={class:"grid gap-4"},Nt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ht={key:2,class:"space-y-4"},At={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ut={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Pt={class:"flex items-center justify-between rounded-md border border-border px-4 py-3"},Dt={key:3,class:"space-y-4"},Rt={class:"rounded-md border border-dashed border-border p-5"},Ot={class:"flex items-start justify-between gap-4"},Mt={class:"mt-4 space-y-3"},jt={class:"flex items-center gap-2"},Bt={class:"text-sm"},Ft={key:4,class:"space-y-4"},It={class:"grid gap-4"},Lt={class:"flex items-center justify-between gap-4 rounded-md border border-border px-4 py-3"},qt={class:"flex items-center justify-between gap-4 rounded-md border border-border px-4 py-3"},Et={class:"flex items-center justify-between gap-4 rounded-md border border-border px-4 py-3"},Tt={class:"flex items-center justify-between gap-4 rounded-md border border-border px-4 py-3"},zt={class:"flex items-center justify-between gap-4 rounded-md border border-border px-4 py-3"},Wt={key:5,class:"space-y-4"},Yt={class:"rounded-md border border-border p-4"},Xt={class:"mt-4 space-y-2 text-sm"},Jt=X({__name:"OnboardingWizard",emits:["close"],setup(c,{emit:_}){const g=_,x=[{title:"Business Info",description:"Legal entity, DBA, and processing profile"},{title:"Owners & Officers",description:"Primary contacts and ownership details"},{title:"Banking & Settlement",description:"Funding accounts and schedules"},{title:"Documents",description:"Collect required underwriting documents"},{title:"Capabilities",description:"Products and channels the merchant needs"},{title:"Review & Submit",description:"Final review before submission"}],f=P(0),y=V(()=>x[f.value]??x[0]),o=Be({business:{legalName:"",dba:"",website:"",category:"",yearsInBusiness:"",summary:""},owners:{primary:{name:"",email:"",ownership:""},secondary:{name:"",email:"",ownership:""},notes:""},banking:{routingNumber:"",accountNumber:"",depositSchedule:"daily",sameDayFunding:!1,notes:""},documents:{notes:""},capabilities:{cardPresent:!0,ecommerce:!0,recurring:!1,multiCurrency:!1,riskMonitoring:!0,notes:""},notes:""}),w=[{name:"Voided check or bank letter",status:"uploaded",label:"Uploaded"},{name:"Articles of incorporation",status:"requested",label:"Requested"},{name:"PCI attestation or SAQ",status:"requested",label:"Requested"},{name:"Prior processing statements",status:"missing",label:"Missing"}],k=V(()=>Math.round(f.value/(x.length-1)*100)),b=V(()=>f.value===0),J=V(()=>f.value===x.length-1),se=V(()=>Object.entries({"Card-present":o.capabilities.cardPresent,"E-commerce":o.capabilities.ecommerce,"Recurring billing":o.capabilities.recurring,"Multi-currency":o.capabilities.multiCurrency,"Risk monitoring":o.capabilities.riskMonitoring}).filter(([,h])=>h).map(([h])=>h)),Q=()=>{J.value||(f.value+=1)},B=()=>{b.value||(f.value-=1)},le=()=>{fe.success("Draft saved",{description:"Your progress is stored locally for this prototype session."})},ae=()=>{fe.success("Application submitted",{description:"A sandbox submission was simulated. The application moves to Submitted."}),g("close")},G=()=>{g("close")};return(h,t)=>(m(),v("div",mt,[s("div",pt,[s("div",ft,[s("div",ct,[l(e(Ve),{class:"space-y-1 p-0"},{default:a(()=>[l(e($e),null,{default:a(()=>[...t[26]||(t[26]=[d("New Merchant Application",-1)])]),_:1}),l(e(Ce),null,{default:a(()=>[d(" Step "+u(f.value+1)+" of "+u(x.length)+" — "+u(y.value?.title),1)]),_:1})]),_:1}),s("div",vt,[l(e(D),{variant:"outline",onClick:le},{default:a(()=>[...t[27]||(t[27]=[d(" Save draft ",-1)])]),_:1}),l(e(D),{variant:"ghost",onClick:G},{default:a(()=>[...t[28]||(t[28]=[d(" Cancel ",-1)])]),_:1}),l(e(D),{variant:"outline",onClick:B,disabled:b.value},{default:a(()=>[...t[29]||(t[29]=[d(" Back ",-1)])]),_:1},8,["disabled"]),J.value?(m(),S(e(D),{key:1,onClick:ae},{default:a(()=>[...t[31]||(t[31]=[d(" Submit application ",-1)])]),_:1})):(m(),S(e(D),{key:0,onClick:Q},{default:a(()=>[...t[30]||(t[30]=[d(" Next step ",-1)])]),_:1}))])]),s("div",gt,[(m(),v(N,null,A(x,(r,H)=>l(e(j),{key:r.title,variant:H===f.value?"default":"outline"},{default:a(()=>[d(u(H+1)+". "+u(r.title),1)]),_:2},1032,["variant"])),64))])]),s("div",null,[l(e(ie),{"model-value":k.value},null,8,["model-value"]),s("div",bt,[s("span",null,u(y.value?.description),1),s("span",null,u(k.value)+"% complete",1)])])]),s("div",xt,[s("div",yt,[f.value===0?(m(),v("div",wt,[s("div",_t,[s("div",null,[t[32]||(t[32]=s("label",{for:"legalName",class:"text-xs font-medium text-muted-foreground"},"Legal business name",-1)),l(e(C),{id:"legalName",modelValue:o.business.legalName,"onUpdate:modelValue":t[0]||(t[0]=r=>o.business.legalName=r),placeholder:"Acme Corporation"},null,8,["modelValue"])]),s("div",null,[t[33]||(t[33]=s("label",{for:"dba",class:"text-xs font-medium text-muted-foreground"},"DBA",-1)),l(e(C),{id:"dba",modelValue:o.business.dba,"onUpdate:modelValue":t[1]||(t[1]=r=>o.business.dba=r),placeholder:"Acme Corp"},null,8,["modelValue"])]),s("div",null,[t[34]||(t[34]=s("label",{for:"website",class:"text-xs font-medium text-muted-foreground"},"Website",-1)),l(e(C),{id:"website",modelValue:o.business.website,"onUpdate:modelValue":t[2]||(t[2]=r=>o.business.website=r),placeholder:"https://example.com"},null,8,["modelValue"])]),s("div",kt,[s("div",null,[t[40]||(t[40]=s("label",{class:"text-xs font-medium text-muted-foreground"},"Category",-1)),l(e(E),{modelValue:o.business.category,"onUpdate:modelValue":t[3]||(t[3]=r=>o.business.category=r)},{default:a(()=>[l(e(T),null,{default:a(()=>[l(e(z),{placeholder:"Select category"})]),_:1}),l(e(W),null,{default:a(()=>[l(e($),{value:"restaurant"},{default:a(()=>[...t[35]||(t[35]=[d("Restaurant",-1)])]),_:1}),l(e($),{value:"retail"},{default:a(()=>[...t[36]||(t[36]=[d("Retail",-1)])]),_:1}),l(e($),{value:"services"},{default:a(()=>[...t[37]||(t[37]=[d("Professional Services",-1)])]),_:1}),l(e($),{value:"marketplace"},{default:a(()=>[...t[38]||(t[38]=[d("Marketplace",-1)])]),_:1}),l(e($),{value:"subscription"},{default:a(()=>[...t[39]||(t[39]=[d("Subscription",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",null,[t[41]||(t[41]=s("label",{for:"yearsInBusiness",class:"text-xs font-medium text-muted-foreground"},"Years in business",-1)),l(e(C),{id:"yearsInBusiness",modelValue:o.business.yearsInBusiness,"onUpdate:modelValue":t[4]||(t[4]=r=>o.business.yearsInBusiness=r),type:"number",min:"0",placeholder:"5"},null,8,["modelValue"])])]),s("div",null,[t[42]||(t[42]=s("label",{for:"description",class:"text-xs font-medium text-muted-foreground"},"Business summary",-1)),l(e(O),{id:"description",modelValue:o.business.summary,"onUpdate:modelValue":t[5]||(t[5]=r=>o.business.summary=r),placeholder:"Describe products, fulfillment model, and processing expectations.",rows:"4"},null,8,["modelValue"])])])])):f.value===1?(m(),v("div",Vt,[s("div",$t,[s("div",null,[t[43]||(t[43]=s("label",{for:"primaryOwner",class:"text-xs font-medium text-muted-foreground"},"Primary owner",-1)),l(e(C),{id:"primaryOwner",modelValue:o.owners.primary.name,"onUpdate:modelValue":t[6]||(t[6]=r=>o.owners.primary.name=r),placeholder:"Jamie Lee"},null,8,["modelValue"])]),s("div",Ct,[s("div",null,[t[44]||(t[44]=s("label",{for:"primaryEmail",class:"text-xs font-medium text-muted-foreground"},"Email",-1)),l(e(C),{id:"primaryEmail",modelValue:o.owners.primary.email,"onUpdate:modelValue":t[7]||(t[7]=r=>o.owners.primary.email=r),type:"email",placeholder:"jamie@example.com"},null,8,["modelValue"])]),s("div",null,[t[45]||(t[45]=s("label",{for:"primaryOwnership",class:"text-xs font-medium text-muted-foreground"},"Ownership %",-1)),l(e(C),{id:"primaryOwnership",modelValue:o.owners.primary.ownership,"onUpdate:modelValue":t[8]||(t[8]=r=>o.owners.primary.ownership=r),type:"number",min:"0",max:"100",placeholder:"60"},null,8,["modelValue"])])])]),s("div",St,[s("div",null,[t[46]||(t[46]=s("label",{for:"secondaryOwner",class:"text-xs font-medium text-muted-foreground"},"Secondary owner (optional)",-1)),l(e(C),{id:"secondaryOwner",modelValue:o.owners.secondary.name,"onUpdate:modelValue":t[9]||(t[9]=r=>o.owners.secondary.name=r),placeholder:"Jordan Blake"},null,8,["modelValue"])]),s("div",Nt,[s("div",null,[t[47]||(t[47]=s("label",{for:"secondaryEmail",class:"text-xs font-medium text-muted-foreground"},"Email",-1)),l(e(C),{id:"secondaryEmail",modelValue:o.owners.secondary.email,"onUpdate:modelValue":t[10]||(t[10]=r=>o.owners.secondary.email=r),type:"email",placeholder:"jordan@example.com"},null,8,["modelValue"])]),s("div",null,[t[48]||(t[48]=s("label",{for:"secondaryOwnership",class:"text-xs font-medium text-muted-foreground"},"Ownership %",-1)),l(e(C),{id:"secondaryOwnership",modelValue:o.owners.secondary.ownership,"onUpdate:modelValue":t[11]||(t[11]=r=>o.owners.secondary.ownership=r),type:"number",min:"0",max:"100",placeholder:"40"},null,8,["modelValue"])])])]),s("div",null,[t[49]||(t[49]=s("label",{for:"kycNotes",class:"text-xs font-medium text-muted-foreground"},"KYC notes",-1)),l(e(O),{id:"kycNotes",modelValue:o.owners.notes,"onUpdate:modelValue":t[12]||(t[12]=r=>o.owners.notes=r),placeholder:"Add context for ownership structure, source of funds, or enhanced due diligence.",rows:"4"},null,8,["modelValue"])])])):f.value===2?(m(),v("div",ht,[s("div",At,[s("div",null,[t[50]||(t[50]=s("label",{for:"routingNumber",class:"text-xs font-medium text-muted-foreground"},"Routing number",-1)),l(e(C),{id:"routingNumber",modelValue:o.banking.routingNumber,"onUpdate:modelValue":t[13]||(t[13]=r=>o.banking.routingNumber=r),placeholder:"123456789"},null,8,["modelValue"])]),s("div",null,[t[51]||(t[51]=s("label",{for:"accountNumber",class:"text-xs font-medium text-muted-foreground"},"Account number",-1)),l(e(C),{id:"accountNumber",modelValue:o.banking.accountNumber,"onUpdate:modelValue":t[14]||(t[14]=r=>o.banking.accountNumber=r),placeholder:"9876543210"},null,8,["modelValue"])])]),s("div",Ut,[s("div",null,[t[55]||(t[55]=s("label",{class:"text-xs font-medium text-muted-foreground"},"Deposit schedule",-1)),l(e(E),{modelValue:o.banking.depositSchedule,"onUpdate:modelValue":t[15]||(t[15]=r=>o.banking.depositSchedule=r)},{default:a(()=>[l(e(T),null,{default:a(()=>[l(e(z),{placeholder:"Select schedule"})]),_:1}),l(e(W),null,{default:a(()=>[l(e($),{value:"daily"},{default:a(()=>[...t[52]||(t[52]=[d("Daily",-1)])]),_:1}),l(e($),{value:"weekly"},{default:a(()=>[...t[53]||(t[53]=[d("Weekly",-1)])]),_:1}),l(e($),{value:"monthly"},{default:a(()=>[...t[54]||(t[54]=[d("Monthly",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",Pt,[t[56]||(t[56]=s("div",null,[s("div",{class:"text-sm font-medium"},"Enable same-day funding"),s("p",{class:"text-xs text-muted-foreground"},"Requires treasury approval and fees may apply.")],-1)),l(e(M),{checked:o.banking.sameDayFunding,"onUpdate:checked":t[16]||(t[16]=r=>o.banking.sameDayFunding=r)},null,8,["checked"])])]),s("div",null,[t[57]||(t[57]=s("label",{for:"bankNotes",class:"text-xs font-medium text-muted-foreground"},"Banking notes",-1)),l(e(O),{id:"bankNotes",modelValue:o.banking.notes,"onUpdate:modelValue":t[17]||(t[17]=r=>o.banking.notes=r),placeholder:"Document secondary settlement accounts or reserve instructions.",rows:"4"},null,8,["modelValue"])])])):f.value===3?(m(),v("div",Dt,[s("div",Rt,[s("div",Ot,[t[59]||(t[59]=s("div",null,[s("div",{class:"text-sm font-medium"},"Upload required documents"),s("p",{class:"text-xs text-muted-foreground"}," Drag and drop statements, incorporation documents, and PCI attestation or browse to upload. ")],-1)),l(e(D),{variant:"outline"},{default:a(()=>[...t[58]||(t[58]=[d("Browse files",-1)])]),_:1})]),s("div",Mt,[(m(),v(N,null,A(w,r=>s("div",{key:r.name,class:"flex items-center justify-between rounded-md border border-border px-3 py-2"},[s("div",jt,[l(e(st),{class:"h-4 w-4 text-muted-foreground"}),s("span",Bt,u(r.name),1)]),l(e(j),{variant:r.status==="uploaded"?"secondary":r.status==="requested"?"outline":"destructive"},{default:a(()=>[d(u(r.label),1)]),_:2},1032,["variant"])])),64))])]),s("div",null,[t[60]||(t[60]=s("label",{for:"documentNotes",class:"text-xs font-medium text-muted-foreground"},"Document notes",-1)),l(e(O),{id:"documentNotes",modelValue:o.documents.notes,"onUpdate:modelValue":t[18]||(t[18]=r=>o.documents.notes=r),placeholder:"Add commentary on missing documents or placeholders supplied by the merchant.",rows:"4"},null,8,["modelValue"])])])):f.value===4?(m(),v("div",Ft,[s("div",It,[s("div",Lt,[t[61]||(t[61]=s("div",null,[s("div",{class:"text-sm font-medium"},"Card-present"),s("p",{class:"text-xs text-muted-foreground"},"Retail, restaurant, or in-person transactions.")],-1)),l(e(M),{checked:o.capabilities.cardPresent,"onUpdate:checked":t[19]||(t[19]=r=>o.capabilities.cardPresent=r)},null,8,["checked"])]),s("div",qt,[t[62]||(t[62]=s("div",null,[s("div",{class:"text-sm font-medium"},"E-commerce"),s("p",{class:"text-xs text-muted-foreground"},"Website and mobile checkout experiences.")],-1)),l(e(M),{checked:o.capabilities.ecommerce,"onUpdate:checked":t[20]||(t[20]=r=>o.capabilities.ecommerce=r)},null,8,["checked"])]),s("div",Et,[t[63]||(t[63]=s("div",null,[s("div",{class:"text-sm font-medium"},"Recurring billing"),s("p",{class:"text-xs text-muted-foreground"},"Subscriptions or installment plans.")],-1)),l(e(M),{checked:o.capabilities.recurring,"onUpdate:checked":t[21]||(t[21]=r=>o.capabilities.recurring=r)},null,8,["checked"])]),s("div",Tt,[t[64]||(t[64]=s("div",null,[s("div",{class:"text-sm font-medium"},"Multi-currency"),s("p",{class:"text-xs text-muted-foreground"},"Process and settle in multiple currencies.")],-1)),l(e(M),{checked:o.capabilities.multiCurrency,"onUpdate:checked":t[22]||(t[22]=r=>o.capabilities.multiCurrency=r)},null,8,["checked"])]),s("div",zt,[t[65]||(t[65]=s("div",null,[s("div",{class:"text-sm font-medium"},"Risk monitoring"),s("p",{class:"text-xs text-muted-foreground"},"Enable webhook alerts and anomaly detection.")],-1)),l(e(M),{checked:o.capabilities.riskMonitoring,"onUpdate:checked":t[23]||(t[23]=r=>o.capabilities.riskMonitoring=r)},null,8,["checked"])])]),s("div",null,[t[66]||(t[66]=s("label",{for:"capabilityNotes",class:"text-xs font-medium text-muted-foreground"},"Capability notes",-1)),l(e(O),{id:"capabilityNotes",modelValue:o.capabilities.notes,"onUpdate:modelValue":t[24]||(t[24]=r=>o.capabilities.notes=r),placeholder:"Outline go-live priorities, beta programs, or feature flags required.",rows:"4"},null,8,["modelValue"])])])):(m(),v("div",Wt,[s("div",Yt,[t[71]||(t[71]=s("div",{class:"text-sm font-medium"},"Summary",-1)),t[72]||(t[72]=s("p",{class:"mt-2 text-sm text-muted-foreground"}," Review entered details before submitting. Save as draft if additional documents or approvals are pending. ",-1)),s("ul",Xt,[s("li",null,[t[67]||(t[67]=s("strong",null,"Business:",-1)),d(" "+u(o.business.legalName||"—")+" — "+u(o.business.category||"category pending"),1)]),s("li",null,[t[68]||(t[68]=s("strong",null,"Primary owner:",-1)),d(" "+u(o.owners.primary.name||"—")+" ("+u(o.owners.primary.email||"email pending")+") ",1)]),s("li",null,[t[69]||(t[69]=s("strong",null,"Settlement:",-1)),d(" Routing "+u(o.banking.routingNumber||"—")+" / Account "+u(o.banking.accountNumber||"—"),1)]),s("li",null,[t[70]||(t[70]=s("strong",null,"Capabilities:",-1)),d(" "+u(se.value.join(", ")||"No capabilities selected"),1)])])]),s("div",null,[t[73]||(t[73]=s("label",{for:"submissionNotes",class:"text-xs font-medium text-muted-foreground"},"Submission notes",-1)),l(e(O),{id:"submissionNotes",modelValue:o.notes,"onUpdate:modelValue":t[25]||(t[25]=r=>o.notes=r),placeholder:"Add context for underwriting or implementation teams.",rows:"4"},null,8,["modelValue"])])]))])])]))}}),Qt={class:"space-y-6"},Gt={class:"flex flex-wrap items-center gap-4"},Ht={class:"relative flex-1 min-w-64"},Kt={key:0,class:"p-4 space-y-4"},Zt={class:"flex items-center gap-3"},es={class:"space-y-2"},ts={class:"col-span-4 space-y-2"},ss={class:"font-medium"},ls={class:"text-sm text-muted-foreground"},as={class:"text-xs text-muted-foreground mt-1"},os={class:"flex flex-col gap-2"},ns={class:"space-y-1"},rs={class:"text-xs text-muted-foreground"},is={class:"flex flex-wrap gap-2"},ds={class:"text-sm font-medium"},us={key:0,class:"text-xs text-muted-foreground"},ms={key:1,class:"py-16"},ps={key:1,class:"flex items-center justify-between"},fs={class:"text-sm text-muted-foreground"},cs={key:0,class:"flex h-full flex-col"},vs={class:"text-xs text-muted-foreground"},gs={class:"text-xs text-muted-foreground"},bs={class:"text-xs font-mono"},xs={class:"mt-6 space-y-6 overflow-y-auto pr-2"},ys={class:"flex flex-wrap items-center gap-3"},ws={class:"text-xs text-muted-foreground"},_s={key:0,class:"text-xs text-muted-foreground"},ks={class:"mt-1 text-xs text-muted-foreground"},Vs={class:"flex flex-wrap gap-2"},$s={class:"text-sm font-medium"},Cs={class:"text-xs text-muted-foreground"},q=10,qs=X({__name:"OnboardingPage",setup(c){const _=["Draft","Submitted","Under Review","Approved","Rejected"],g=P(""),x=P("all"),f=P("all"),y=P("all"),o=P(1),w=P(!1),k=P(!1),b=P(null),{data:J,loading:se,error:Q}=Ye(()=>Qe.onboarding.list()),B=V(()=>J.value??[]),le=V(()=>{const p=new Set;return B.value.forEach(n=>p.add(n.owner)),Array.from(p).sort()}),ae=V(()=>{const p=new Set;return B.value.forEach(n=>p.add(n.app)),Array.from(p).sort()}),G=V(()=>B.value.filter(p=>{const n=g.value.trim().toLowerCase(),i=n?p.merchant.name.toLowerCase().includes(n)||p.merchant.dba.toLowerCase().includes(n)||p.merchant.mid.toLowerCase().includes(n)||p.owner.toLowerCase().includes(n):!0,R=x.value==="all"||p.stage===x.value,K=f.value==="all"||p.owner===f.value,me=y.value==="all"||p.app===y.value;return i&&R&&K&&me})),h=V(()=>G.value.length),t=V(()=>{const p=(o.value-1)*q;return G.value.slice(p,p+q)}),r=V(()=>h.value===0?0:(o.value-1)*q+1),H=V(()=>Math.min(o.value*q,h.value));ee([g,x,f,y],()=>{o.value=1}),ee(w,p=>{p||(b.value=null)});const de=()=>{g.value="",x.value="all",f.value="all",y.value="all"},Se=p=>{b.value=p,w.value=!0},Ne=p=>{switch(p){case"Draft":case"Submitted":return"info";case"Under Review":return"warning";case"Approved":return"success";case"Rejected":return"danger";default:return"info"}},ue=p=>{switch(p){case"on-track":return"success";case"at-risk":return"warning";case"overdue":return"danger";case"completed":return"info";default:return"info"}},he=p=>{switch(p){case"completed":return"secondary";case"in-progress":return"outline";case"failed":return"destructive";default:return"outline"}},Ae=p=>{switch(p){case"completed":return"Done";case"in-progress":return"In progress";case"failed":return"Failed";default:return"Pending"}},Ue=p=>{switch(p){case"completed":return"Completed by underwriting";case"in-progress":return"Owner is actively working on this task";case"failed":return"Requires follow-up or exception approval";default:return"Waiting to start"}},Pe=p=>{const n=new Date(p),i=new Date,R=n.getTime()-i.getTime(),K=Math.round(R/(1e3*60*60*24));return Math.abs(K)>=7?new Intl.DateTimeFormat("en",{dateStyle:"medium"}).format(n):new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(K,"day")},oe=p=>new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(p));return(p,n)=>(m(),v("div",Qt,[l(Ie,{title:"Onboarding",description:"Create and track merchant applications"},{actions:a(()=>[l(e(D),{onClick:n[0]||(n[0]=i=>k.value=!0)},{default:a(()=>[l(e(Ze),{class:"mr-2 h-4 w-4"}),n[9]||(n[9]=d(" New Application ",-1))]),_:1})]),_:1}),l(e(Z),{class:"card-compact"},{default:a(()=>[l(e(ne),null,{default:a(()=>[s("div",Gt,[s("div",Ht,[l(e(Fe),{class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),l(e(C),{modelValue:g.value,"onUpdate:modelValue":n[1]||(n[1]=i=>g.value=i),type:"search",placeholder:"Search applications by merchant, owner, or MID...",class:"pl-9"},null,8,["modelValue"])]),l(e(E),{modelValue:x.value,"onUpdate:modelValue":n[2]||(n[2]=i=>x.value=i)},{default:a(()=>[l(e(T),{class:"w-44"},{default:a(()=>[l(e(z),{placeholder:"All stages"})]),_:1}),l(e(W),null,{default:a(()=>[l(e($),{value:"all"},{default:a(()=>[...n[10]||(n[10]=[d("All Stages",-1)])]),_:1}),(m(),v(N,null,A(_,i=>l(e($),{key:i,value:i},{default:a(()=>[d(u(i),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),l(e(E),{modelValue:f.value,"onUpdate:modelValue":n[3]||(n[3]=i=>f.value=i)},{default:a(()=>[l(e(T),{class:"w-44"},{default:a(()=>[l(e(z),{placeholder:"All owners"})]),_:1}),l(e(W),null,{default:a(()=>[l(e($),{value:"all"},{default:a(()=>[...n[11]||(n[11]=[d("All Owners",-1)])]),_:1}),(m(!0),v(N,null,A(le.value,i=>(m(),S(e($),{key:i,value:i},{default:a(()=>[d(u(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(e(E),{modelValue:y.value,"onUpdate:modelValue":n[4]||(n[4]=i=>y.value=i)},{default:a(()=>[l(e(T),{class:"w-44"},{default:a(()=>[l(e(z),{placeholder:"All apps"})]),_:1}),l(e(W),null,{default:a(()=>[l(e($),{value:"all"},{default:a(()=>[...n[12]||(n[12]=[d("All Apps",-1)])]),_:1}),(m(!0),v(N,null,A(ae.value,i=>(m(),S(e($),{key:i,value:i},{default:a(()=>[d(u(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(e(D),{variant:"outline",onClick:de},{default:a(()=>[l(e(et),{class:"mr-2 h-4 w-4"}),n[13]||(n[13]=d(" Clear ",-1))]),_:1})])]),_:1})]),_:1}),e(Q)?(m(),S(e(Ge),{key:0,variant:"destructive"},{default:a(()=>[l(e(He),null,{default:a(()=>[...n[14]||(n[14]=[d("Failed to load applications",-1)])]),_:1}),l(e(Ke),null,{default:a(()=>[d(u(e(Q)),1)]),_:1})]),_:1})):F("",!0),l(e(Z),null,{default:a(()=>[e(se)?(m(),v("div",Kt,[s("div",Zt,[l(e(U),{class:"h-4 w-24"}),l(e(U),{class:"h-4 w-20"}),l(e(U),{class:"h-4 w-16 ml-auto"})]),s("div",es,[(m(),v(N,null,A(6,i=>s("div",{key:i,class:"grid grid-cols-12 items-center gap-4 py-3"},[s("div",ts,[l(e(U),{class:"h-4 w-1/2"}),l(e(U),{class:"h-3 w-2/3"})]),l(e(U),{class:"col-span-2 h-6 rounded-full"}),l(e(U),{class:"col-span-3 h-6"}),l(e(U),{class:"col-span-2 h-4"}),l(e(U),{class:"col-span-1 h-6 rounded-full justify-self-end"})])),64))])])):(m(),v(N,{key:1},[t.value.length>0?(m(),S(e(We),{key:0,class:"table-compact","container-class":"px-4"},{default:a(()=>[l(e(Te),null,{default:a(()=>[l(e(ce),null,{default:a(()=>[l(e(I),null,{default:a(()=>[...n[15]||(n[15]=[d("Merchant",-1)])]),_:1}),l(e(I),null,{default:a(()=>[...n[16]||(n[16]=[d("Stage",-1)])]),_:1}),l(e(I),null,{default:a(()=>[...n[17]||(n[17]=[d("Capabilities",-1)])]),_:1}),l(e(I),null,{default:a(()=>[...n[18]||(n[18]=[d("Updated",-1)])]),_:1}),l(e(I),{class:"text-right"},{default:a(()=>[...n[19]||(n[19]=[d("SLA",-1)])]),_:1})]),_:1})]),_:1}),l(e(ze),null,{default:a(()=>[(m(!0),v(N,null,A(t.value,i=>(m(),S(e(ce),{key:i.id,class:"cursor-pointer transition hover:bg-accent/20",onClick:R=>Se(i)},{default:a(()=>[l(e(L),null,{default:a(()=>[s("div",ss,u(i.merchant.name),1),s("div",ls,u(i.merchant.dba)+" • "+u(i.merchant.mid),1),s("div",as," Owner: "+u(i.owner)+" • App: "+u(i.app),1)]),_:2},1024),l(e(L),null,{default:a(()=>[s("div",os,[l(re,{variant:Ne(i.stage)},{default:a(()=>[d(u(i.stage),1)]),_:2},1032,["variant"]),s("div",ns,[l(e(ie),{"model-value":i.progress},null,8,["model-value"]),s("div",rs,u(i.progress)+"% complete",1)])])]),_:2},1024),l(e(L),null,{default:a(()=>[s("div",is,[(m(!0),v(N,null,A(i.capabilities,R=>(m(),S(e(j),{key:R,variant:"outline"},{default:a(()=>[d(u(R),1)]),_:2},1024))),128))])]),_:2},1024),l(e(L),null,{default:a(()=>[s("div",ds,u(Pe(i.updated)),1),i.submittedAt?(m(),v("div",us," Submitted "+u(oe(i.submittedAt)),1)):F("",!0)]),_:2},1024),l(e(L),{class:"text-right"},{default:a(()=>[l(re,{variant:ue(i.sla.status)},{default:a(()=>[d(u(i.sla.label),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):(m(),v("div",ms,[l(Je,{title:"No onboarding applications",description:"No records match your current filters. Adjust filters or create a new application.",icon:e(tt)},{actions:a(()=>[l(e(D),{variant:"outline",onClick:de},{default:a(()=>[...n[20]||(n[20]=[d(" Clear Filters ",-1)])]),_:1})]),_:1},8,["icon"])]))],64))]),_:1}),h.value>0?(m(),v("div",ps,[s("div",fs," Showing "+u(r.value)+" to "+u(H.value)+" of "+u(h.value)+" applications ",1),l(e(Xe),{total:h.value,"items-per-page":q,page:o.value,"onUpdate:page":n[5]||(n[5]=i=>o.value=i)},null,8,["total","page"])])):F("",!0),l(e(ve),{open:w.value,"onUpdate:open":n[6]||(n[6]=i=>w.value=i)},{default:a(()=>[l(e(ge),{class:"sm:max-w-2xl"},{default:a(()=>[b.value?(m(),v("div",cs,[l(e(Ve),{class:"space-y-2"},{default:a(()=>[l(e($e),{class:"text-left"},{default:a(()=>[d(u(b.value.merchant.name),1)]),_:1}),l(e(Ce),{class:"flex flex-wrap items-center gap-2 text-left"},{default:a(()=>[l(e(j),{variant:"outline"},{default:a(()=>[d(u(b.value.stage),1)]),_:1}),s("span",vs,"Owner: "+u(b.value.owner),1),n[21]||(n[21]=s("span",{class:"text-xs text-muted-foreground"},"•",-1)),s("span",gs,"App: "+u(b.value.app),1),n[22]||(n[22]=s("span",{class:"text-xs text-muted-foreground"},"•",-1)),s("span",bs,u(b.value.merchant.mid),1)]),_:1})]),_:1}),s("div",xs,[l(e(Z),{class:"card-compact"},{default:a(()=>[l(e(ne),{class:"space-y-3 py-4"},{default:a(()=>[s("div",ys,[l(re,{variant:ue(b.value.sla.status)},{default:a(()=>[d(u(b.value.sla.label),1)]),_:1},8,["variant"]),s("span",ws," Last updated "+u(oe(b.value.updated)),1),b.value.submittedAt?(m(),v("span",_s," • Submitted "+u(oe(b.value.submittedAt)),1)):F("",!0)]),s("div",null,[n[23]||(n[23]=s("div",{class:"text-xs text-muted-foreground mb-2 uppercase"},"Progress",-1)),l(e(ie),{"model-value":b.value.progress},null,8,["model-value"]),s("div",ks,u(b.value.progress)+"% toward approval",1)]),s("div",null,[n[24]||(n[24]=s("div",{class:"text-xs text-muted-foreground mb-1 uppercase"},"Capabilities",-1)),s("div",Vs,[(m(!0),v(N,null,A(b.value.capabilities,i=>(m(),S(e(j),{key:i,variant:"outline"},{default:a(()=>[d(u(i),1)]),_:2},1024))),128))])])]),_:1})]),_:1}),l(e(Z),{class:"card-compact"},{default:a(()=>[l(e(Le),{class:"pb-2"},{default:a(()=>[l(e(qe),{class:"text-base"},{default:a(()=>[...n[25]||(n[25]=[d("Checklist",-1)])]),_:1}),l(e(Ee),null,{default:a(()=>[...n[26]||(n[26]=[d("Track underwriting tasks and outstanding items",-1)])]),_:1})]),_:1}),l(e(ne),{class:"space-y-3"},{default:a(()=>[(m(!0),v(N,null,A(b.value.tasks,i=>(m(),v("div",{key:i.label,class:"flex items-center justify-between rounded-md border border-border px-3 py-2"},[s("div",null,[s("div",$s,u(i.label),1),s("div",Cs,u(Ue(i.status)),1)]),l(e(j),{variant:he(i.status)},{default:a(()=>[d(u(Ae(i.status)),1)]),_:2},1032,["variant"])]))),128))]),_:1})]),_:1})])])):F("",!0)]),_:1})]),_:1},8,["open"]),l(e(ve),{open:k.value,"onUpdate:open":n[8]||(n[8]=i=>k.value=i)},{default:a(()=>[l(e(ge),{class:"w-[90vw] sm:max-w-[70vw]"},{default:a(()=>[l(Jt,{onClose:n[7]||(n[7]=i=>k.value=!1)})]),_:1})]),_:1},8,["open"])]))}});export{qs as default};
