import{d as A,o as M,r as o,c,b as g,e,f as l,g as v,q as w,u as n,_ as T,aT as F,t as r,aj as y,y as P,A as W,z as q,F as Q,m as R,h as u,i as C,aR as G,j as J,v as K}from"./index-CBlyhhB_.js";import{u as X}from"./employeesStore-DWx-ZwU_.js";import{D as Y}from"./download-CZMehmmv.js";const Z={class:"time-clock-view dark:bg-gray-900"},ee={class:"mb-6"},te={class:"flex justify-between items-center"},se={class:"flex items-center gap-2"},re={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6"},ae={class:"flex flex-col sm:flex-row items-center justify-between"},oe={class:"flex items-center mb-4 sm:mb-0"},de={class:"h-14 w-14 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},le={class:"ml-4"},ne={class:"text-xl font-bold dark:text-white"},ie={class:"text-gray-500 dark:text-gray-400"},ce={class:"grid grid-cols-3 gap-6"},ge={class:"text-center"},ue={class:"text-2xl font-bold dark:text-white"},xe={class:"text-center"},me={class:"text-2xl font-bold dark:text-white"},ye={class:"text-center"},he={class:"text-2xl font-bold dark:text-white"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},pe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},ke={class:"text-2xl font-bold dark:text-white"},_e={class:"flex items-center mt-2"},fe={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},ve={class:"text-xs font-medium text-gray-500 dark:text-gray-400 ml-2"},we={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},Te={class:"text-2xl font-bold dark:text-white"},Ce={class:"flex items-center mt-2"},Ee={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ie={class:"text-xs font-medium text-gray-500 dark:text-gray-400 ml-2"},Se={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},De={class:"text-2xl font-bold dark:text-white"},Ne={class:"flex items-center mt-2"},je={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Be={class:"text-xs font-medium text-gray-500 dark:text-gray-400 ml-2"},He={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},Le={class:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-700"},Ue={class:"relative"},Oe={class:"overflow-x-auto"},Ve={class:"w-full border-collapse"},$e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ze={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"flex items-center"},Me={class:"h-8 w-8 rounded-full bg-blue-500 dark:bg-blue-600 flex items-center justify-center text-white font-medium text-xs"},Fe={class:"ml-3"},Pe={class:"text-sm font-medium dark:text-gray-200"},We={class:"text-xs text-gray-500 dark:text-gray-400"},qe={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ge={class:"px-6 py-4 whitespace-nowrap"},Je={class:"px-6 py-4 whitespace-nowrap text-sm space-x-2"},Ke={key:0,class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},Xe={class:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"},Ye={class:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex items-center justify-between"},Ze={class:"text-sm text-gray-500 dark:text-gray-400"},at=A({__name:"TimeClockView",setup(et){const d=X();M(async()=>{await d.fetchEmployees(),await d.fetchTimeEntries(),setInterval(S,1e3)});const x=o(new Date),E=c(()=>x.value.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),I=c(()=>x.value.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),S=()=>{x.value=new Date},h=o(!1),i=o(""),D=o(18),N=o(3),j=o(4),B=o("124.5"),b=o(78),H=o("452.0"),p=o(82),L=o("1,845.5"),k=o(91),m=c(()=>d.timeEntries.filter(a=>{const t=new Date(a.clockInTime).toDateString(),s=new Date().toDateString();return t===s})),_=c(()=>{if(!i.value)return m.value;const a=i.value.toLowerCase();return m.value.filter(t=>{const s=d.getEmployeeById(t.employeeId);return s?`${s.firstName} ${s.lastName}`.toLowerCase().includes(a)||s.position.toLowerCase().includes(a)||s.department.toLowerCase().includes(a):!1})}),U=a=>{const t=d.getEmployeeById(a);return t?`${t.firstName} ${t.lastName}`:"Unknown Employee"},O=a=>{const t=d.getEmployeeById(a);return t?(t.firstName.charAt(0)+t.lastName.charAt(0)).toUpperCase():"UE"},V=a=>{const t=d.getEmployeeById(a);return t?t.position:"Unknown"},f=a=>new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),$=a=>a.toFixed(2),z=a=>{switch(a){case"in-progress":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100";case"flagged":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"}};return(a,t)=>(u(),g("div",Z,[e("header",ee,[e("div",te,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold dark:text-white"},"Time Clock"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Track employee attendance and hours")],-1)),e("div",se,[l(n(T),{size:"sm",class:w([h.value?"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800":"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800","text-white"])},{default:v(()=>[l(n(G),{class:"mr-2 h-4 w-4"}),C(" "+r(h.value?"Clock Out":"Clock In"),1)]),_:1},8,["class"]),l(n(T),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:v(()=>[l(n(Y),{class:"mr-2 h-4 w-4"}),t[1]||(t[1]=C(" Export Hours "))]),_:1})])])]),e("section",re,[e("div",ae,[e("div",oe,[e("div",de,[l(n(F),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})]),e("div",le,[e("h2",ne,r(E.value),1),e("p",ie,r(I.value),1)])]),e("div",ce,[e("div",ge,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Clocked In",-1)),e("p",ue,r(D.value),1)]),e("div",xe,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"On Break",-1)),e("p",me,r(N.value),1)]),e("div",ye,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Absent",-1)),e("p",he,r(j.value),1)])])])]),e("section",be,[e("div",pe,[t[6]||(t[6]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Hours Today",-1)),e("p",ke,r(B.value),1),e("div",_e,[e("div",fe,[e("div",{class:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full",style:y({width:b.value+"%"})},null,4)]),e("span",ve,r(b.value)+"%",1)])]),e("div",we,[t[7]||(t[7]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Hours This Week",-1)),e("p",Te,r(H.value),1),e("div",Ce,[e("div",Ee,[e("div",{class:"bg-green-600 dark:bg-green-500 h-2 rounded-full",style:y({width:p.value+"%"})},null,4)]),e("span",Ie,r(p.value)+"%",1)])]),e("div",Se,[t[8]||(t[8]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Hours This Month",-1)),e("p",De,r(L.value),1),e("div",Ne,[e("div",je,[e("div",{class:"bg-purple-600 dark:bg-purple-500 h-2 rounded-full",style:y({width:k.value+"%"})},null,4)]),e("span",Be,r(k.value)+"%",1)])])]),e("section",He,[e("div",Le,[t[9]||(t[9]=e("div",null,[e("h2",{class:"text-lg font-bold dark:text-white"},"Today's Time Entries"),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Employee clock in/out records for today")],-1)),e("div",Ue,[l(n(W),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4"}),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Search employee",class:"pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200"},null,512),[[q,i.value]])])]),e("div",Oe,[e("table",Ve,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"Employee"),e("th",{class:"px-6 py-3"},"Clock In"),e("th",{class:"px-6 py-3"},"Clock Out"),e("th",{class:"px-6 py-3"},"Total Hours"),e("th",{class:"px-6 py-3"},"Status"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",$e,[(u(!0),g(Q,null,R(_.value,s=>(u(),g("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",ze,[e("div",Ae,[e("div",Me,r(O(s.employeeId)),1),e("div",Fe,[e("div",Pe,r(U(s.employeeId)),1),e("div",We,r(V(s.employeeId)),1)])])]),e("td",qe,r(f(s.clockInTime)),1),e("td",Qe,r(s.clockOutTime?f(s.clockOutTime):"—"),1),e("td",Re,r(s.totalHours?$(s.totalHours):"—"),1),e("td",Ge,[e("span",{class:w(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${z(s.status)}`)},r(s.status),3)]),e("td",Je,[s.status==="in-progress"?(u(),g("button",Ke," Clock Out ")):J("",!0),e("button",Xe,[l(n(K),{class:"h-4 w-4"})])])]))),128))])])]),e("div",Ye,[e("div",Ze," Showing "+r(_.value.length)+" of "+r(m.value.length)+" entries ",1)])])]))}});export{at as default};
