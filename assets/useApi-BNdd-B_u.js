import{d as h,a1 as k,s as A,T as D,a as J,W as M,b as m,o as c,w as y,y as _,u as l,P as R,B as S,A as q,z as x,D as $,a4 as N,a5 as T,h as E,n as j,i as V,r as B,e as z,g as P,t as C,j as b,R as F}from"./index-6xlqELlD.js";import{a as O,_ as K}from"./EntityHeader.vue_vue_type_script_setup_true_lang-CAtsaN7F.js";const[ee,U]=M("PaginationRoot");var H=h({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(a,{emit:e}){const t=a,s=e,{siblingCount:u,disabled:p,showEdges:d}=k(t);A();const r=D(t,"page",s,{defaultValue:t.defaultPage,passive:t.page===void 0}),o=J(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return U({page:r,onPageChange(n){r.value=n},pageCount:o,siblingCount:u,disabled:p,showEdges:d}),(n,w)=>(c(),m(l(R),{as:n.as,"as-child":n.asChild},{default:y(()=>[_(n.$slots,"default",{page:l(r),pageCount:o.value})]),_:3},8,["as","as-child"]))}}),W=H;const te=h({__name:"Pagination",props:{page:{},defaultPage:{},itemsPerPage:{},total:{},siblingCount:{},disabled:{type:Boolean},showEdges:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:page"],setup(a,{emit:e}){const t=a,s=e,u=S(t,"class"),p=q(u,s);return(d,r)=>(c(),m(l(W),x({"data-slot":"pagination"},l(p),{class:l($)("mx-auto flex w-full justify-center",t.class)}),{default:y(o=>[_(d.$slots,"default",N(T(o)))]),_:3},16,["class"]))}}),se=h({__name:"Skeleton",props:{class:{}},setup(a){const e=a;return(t,s)=>(c(),E("div",{"data-slot":"skeleton",class:j(l($)("animate-pulse rounded-md bg-primary/10",e.class))},null,2))}}),ae=h({__name:"StatusPill",props:{variant:{},icon:{}},setup(a){return(e,t)=>(c(),E("span",{class:j(["status-pill",[`status-pill.${e.variant}`,e.variant==="success"?"success":"",e.variant==="warning"?"warning":"",e.variant==="danger"?"danger":"",e.variant==="info"?"info":""]])},[e.icon?(c(),m(B(e.icon),{key:0,class:"h-3 w-3 mr-1"})):V("",!0),_(e.$slots,"default")],2))}}),G={class:"text-lg font-semibold mb-2"},I={class:"text-muted-foreground text-center mb-4 max-w-md"},ne=h({__name:"EmptyState",props:{title:{},description:{},icon:{}},setup(a){return(e,t)=>(c(),m(l(K),null,{default:y(()=>[z(l(O),{class:"flex flex-col items-center justify-center py-16"},{default:y(()=>[(c(),m(B(e.icon),{class:"h-16 w-16 text-muted-foreground mb-4"})),P("h3",G,C(e.title),1),P("p",I,C(e.description),1),_(e.$slots,"actions")]),_:3})]),_:3}))}}),L=()=>Math.random()*600+300,Q=()=>Math.random()<.05;class g extends Error{status;constructor(e,t=500){super(e),this.name="ApiError",this.status=t}}class X{baseUrl="/data";async delay(e){return new Promise(t=>setTimeout(t,e))}async fetchJson(e){const t=L();if(await this.delay(t),Q())throw new g("Simulated network error",500);try{const s=await fetch(`${this.baseUrl}${e}`);if(!s.ok)throw new g(`HTTP ${s.status}: ${s.statusText}`,s.status);return await s.json()}catch(s){throw s instanceof g?s:new g("Failed to fetch data")}}async getDashboardKpis(){return this.fetchJson("/dashboard/kpis.json")}async getDashboardActivity(){return this.fetchJson("/dashboard/activity.json")}async getMerchants(){return this.fetchJson("/merchants/list.json")}async getMerchant(e){return this.fetchJson(`/merchants/${e}/overview.json`)}async getOnboardingApplications(){return this.fetchJson("/onboarding/list.json")}async getTransactions(){return this.fetchJson("/transactions/list.json")}async getSettlements(){return this.fetchJson("/settlements/list.json")}async getDisputes(){return this.fetchJson("/disputes/list.json")}async get(e){return this.fetchJson(e)}}const i=new X,re={dashboard:{kpis:()=>i.getDashboardKpis(),activity:()=>i.getDashboardActivity()},merchants:{list:()=>i.getMerchants(),get:a=>i.getMerchant(a)},onboarding:{list:()=>i.getOnboardingApplications()},transactions:{list:()=>i.getTransactions()},settlements:{list:()=>i.getSettlements()},disputes:{list:()=>i.getDisputes()}};function oe(a,e={}){const{immediate:t=!0,onSuccess:s,onError:u,showToast:p=!0}=e,d=b(null),r=b(!1),o=b(null),n=async()=>{r.value=!0,o.value=null;try{const f=await a();d.value=f,s&&s(f)}catch(f){const v=f instanceof Error?f.message:"An unexpected error occurred";o.value=v,p&&F.error("Error",{description:v}),u&&u(v)}finally{r.value=!1}},w=n;return t&&n(),{data:d,loading:r,error:o,execute:n,refresh:w}}export{te as _,se as a,ae as b,ne as c,re as d,oe as u};
