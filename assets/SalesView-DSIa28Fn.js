import{d as M,c as y,k as F,o as V,b as o,j as h,l as k,e,F as m,m as f,u as g,t as n,p as B,h as a,q as d,s as $,S as A,P as L,R as N,v as P,x as j}from"./index-CBlyhhB_.js";import{u as E}from"./salesStore--0mzQDZj.js";import{C as I}from"./clipboard-list-CiYxShhO.js";import{R as q}from"./refresh-ccw-Z9glMWGs.js";const z={class:"sales-container dark:bg-gray-900"},O={key:0},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},W=["onClick"],G={class:"flex items-center"},H={class:"text-gray-500 dark:text-gray-400 text-sm"},J={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-100 dark:border-gray-700"},K={key:0,class:"flex justify-center items-center h-40"},Q={key:1,class:"text-red-500 dark:text-red-400 text-center py-4"},X={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Y={key:3},Z={class:"overflow-x-auto"},ee={class:"w-full border-collapse"},te={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},re={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},se={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},ae={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},oe={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ie=["onClick"],xe=M({__name:"SalesView",setup(le){const _=j(),i=F(),l=E(),{isLoading:w,error:u,fetchTransactions:v}=l,p=y(()=>i.path==="/sales"||i.path==="/sales/");V(async()=>{try{await v()}catch(r){console.error("Error fetching transactions:",r)}});const x=y(()=>!l.transactions||l.transactions.length===0?[]:[...l.transactions].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()).slice(0,5)),c=r=>!!(r==="/sales"&&i.path==="/sales"||r!=="/sales"&&i.path.startsWith(r)),C=[{title:"Transactions",description:"View and manage transaction history",icon:A,route:"/sales/transactions",bgColor:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-300"},{title:"Orders",description:"Track and process customer orders",icon:I,route:"/sales/orders",bgColor:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-300"},{title:"Returns",description:"Process returns and exchanges",icon:q,route:"/sales/returns",bgColor:"bg-amber-100 dark:bg-amber-900",iconColor:"text-amber-600 dark:text-amber-300"},{title:"Discounts",description:"Manage promotions and special offers",icon:L,route:"/sales/discounts",bgColor:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-300"},{title:"Taxes",description:"Configure tax rates and settings",icon:N,route:"/sales/taxes",bgColor:"bg-red-100 dark:bg-red-900",iconColor:"text-red-600 dark:text-red-300"},{title:"Receipts",description:"Manage receipt templates",icon:P,route:"/sales/receipts",bgColor:"bg-indigo-100 dark:bg-indigo-900",iconColor:"text-indigo-600 dark:text-indigo-300"}],b=r=>{_.push(r)},T=r=>{const s=new Date(r);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s)},S=r=>{switch(r){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"refunded":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return(r,s)=>{const D=B("router-view");return a(),o("div",z,[p.value?(a(),o("div",O,[s[3]||(s[3]=e("header",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold dark:text-white"},"Sales Management"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"Manage transactions, orders, returns, discounts, taxes, and receipts")],-1)),e("section",U,[(a(),o(m,null,f(C,t=>e("div",{key:t.title,class:d(["bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer",{"ring-2 ring-offset-2 dark:ring-offset-gray-900":c(t.route)}]),onClick:R=>b(t.route)},[e("div",G,[e("div",{class:d(["rounded-full p-3 mr-4",[t.bgColor,c(t.route)?"ring-1 ring-offset-1 dark:ring-offset-gray-800":""]])},[(a(),k($(t.icon),{class:d(["h-6 w-6",t.iconColor])},null,8,["class"]))],2),e("div",null,[e("h3",{class:d(["font-semibold text-lg dark:text-white",{"text-blue-700 dark:text-blue-400":c(t.route)}])},n(t.title),3),e("p",H,n(t.description),1)])])],10,W)),64))]),e("section",J,[s[2]||(s[2]=e("h2",{class:"text-xl font-bold mb-4 dark:text-white"},"Recent Activity",-1)),g(w)?(a(),o("div",K,s[0]||(s[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"},null,-1)]))):g(u)?(a(),o("div",Q,n(g(u)),1)):x.value.length===0?(a(),o("div",X," No recent transactions found. ")):(a(),o("div",Y,[e("div",Z,[e("table",ee,[s[1]||(s[1]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"ID"),e("th",{class:"px-6 py-3"},"Date"),e("th",{class:"px-6 py-3"},"Customer"),e("th",{class:"px-6 py-3"},"Total"),e("th",{class:"px-6 py-3"},"Status"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",te,[(a(!0),o(m,null,f(x.value,t=>(a(),o("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",re,n(t.id),1),e("td",se,n(T(t.date)),1),e("td",ae,n(t.customer.name),1),e("td",oe,"$"+n(t.total.toFixed(2)),1),e("td",ne,[e("span",{class:d(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",S(t.status)])},n(t.status),3)]),e("td",de,[e("button",{class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3",onClick:R=>b(`/sales/transactions/${t.id}`)}," View ",8,ie)])]))),128))])])])]))])])):h("",!0),p.value?h("",!0):(a(),k(D,{key:1}))])}}});export{xe as default};
