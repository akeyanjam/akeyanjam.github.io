import{d as E,o as j,r as f,c as N,b as y,e,f as a,g as i,u as s,_ as l,q as x,F as p,m as h,C as F,aT as B,t as d,h as u,i as g,Q as L,j as W}from"./index-CBlyhhB_.js";import{u as I}from"./employeesStore-DWx-ZwU_.js";import{F as R}from"./file-down-Dml-6Y_y.js";import{P as U}from"./plus-DRTQa6gY.js";import{C as q}from"./chevron-left-BCqia3V6.js";const O={class:"scheduling-view dark:bg-gray-900"},Q={class:"mb-6"},G={class:"flex justify-between items-center"},H={class:"flex items-center gap-2"},J={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6"},K={class:"flex flex-wrap items-center justify-between gap-4"},X={class:"flex items-center space-x-3"},Y={class:"flex items-center space-x-2"},Z={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},ee={class:"grid grid-cols-8 border-b border-gray-200 dark:border-gray-700"},re={class:"text-sm font-medium dark:text-white"},te={class:"text-xs text-gray-500 dark:text-gray-400"},ae={class:"border-r border-gray-200 dark:border-gray-700 p-4"},se={class:"flex items-center"},de={class:"h-8 w-8 rounded-full bg-blue-500 dark:bg-blue-600 flex items-center justify-center text-white font-medium text-xs"},oe={class:"ml-3"},ie={class:"text-sm font-medium dark:text-white"},le={class:"text-xs text-gray-500 dark:text-gray-400"},ne={class:"font-medium mb-1"},ge={class:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex justify-between"},be={class:"flex gap-2"},ye={key:1,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},ue={class:"p-8 flex items-center justify-center"},ce={class:"text-center"},ke={class:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 dark:bg-gray-700 mb-4"},me={class:"text-lg font-medium dark:text-white"},xe={class:"text-gray-500 dark:text-gray-400 mt-1 mb-4 max-w-md"},pe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},he={class:"overflow-x-auto"},ve={class:"w-full border-collapse"},fe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},we={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},_e={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Se={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ce={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Me={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700"},ze={class:"text-sm text-gray-500 dark:text-gray-400"},Ee=E({__name:"SchedulingView",setup(De){const c=I();j(async()=>{await c.fetchEmployees(),await c.fetchSchedules()});const n=f("week"),k=f(1),v=f(5),w=[{name:"Monday",date:"Apr 28"},{name:"Tuesday",date:"Apr 29"},{name:"Wednesday",date:"Apr 30"},{name:"Thursday",date:"May 1"},{name:"Friday",date:"May 2"},{name:"Saturday",date:"May 3"},{name:"Sunday",date:"May 4"}],P=N(()=>{const o=(k.value-1)*v.value;return c.employees.slice(o,o+v.value)}),T=N(()=>Math.ceil(c.employees.length/v.value)||1),_=[{id:"shift1",date:"Apr 29, 2025",time:"9:00 AM - 5:00 PM",location:"Main Store",position:"Sales Associate"},{id:"shift2",date:"Apr 30, 2025",time:"12:00 PM - 8:00 PM",location:"Downtown Branch",position:"Customer Service"},{id:"shift3",date:"May 1, 2025",time:"8:00 AM - 4:00 PM",location:"Main Store",position:"Inventory Specialist"}];function m(o,r){const t=c.schedules.filter(b=>b.employeeId===o);return t.length&&t.find(b=>r===new Date(b.startTime).getDay()-1)||null}function V(o){return(o.firstName.charAt(0)+o.lastName.charAt(0)).toUpperCase()}function S(o){return o?new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):""}function $(o){switch(o){case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 border border-blue-200 dark:border-blue-800";case"working":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300 border border-green-200 dark:border-green-800";case"completed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300 border border-gray-200 dark:border-gray-800";case"absent":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300 border border-red-200 dark:border-red-800";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 border border-blue-200 dark:border-blue-800"}}return(o,r)=>(u(),y("div",O,[e("header",Q,[e("div",G,[r[8]||(r[8]=e("div",null,[e("h1",{class:"text-2xl font-bold dark:text-white"},"Employee Scheduling"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Create and manage employee work schedules")],-1)),e("div",H,[a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>[a(s(R),{class:"mr-2 h-4 w-4"}),r[6]||(r[6]=g(" Export Schedule "))]),_:1}),a(s(l),{size:"sm",class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white"},{default:i(()=>[a(s(U),{class:"mr-2 h-4 w-4"}),r[7]||(r[7]=g(" New Shift "))]),_:1})])])]),e("section",J,[e("div",K,[e("div",X,[a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>[a(s(q),{class:"h-4 w-4"})]),_:1}),r[9]||(r[9]=e("h2",{class:"text-lg font-bold dark:text-white"},"April 28 - May 4, 2025",-1)),a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>[a(s(L),{class:"h-4 w-4"})]),_:1})]),e("div",Y,[a(s(l),{variant:"outline",size:"sm",class:x([n.value==="day"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:r[0]||(r[0]=t=>n.value="day")},{default:i(()=>r[10]||(r[10]=[g(" Day ")])),_:1},8,["class"]),a(s(l),{variant:"outline",size:"sm",class:x([n.value==="week"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:r[1]||(r[1]=t=>n.value="week")},{default:i(()=>r[11]||(r[11]=[g(" Week ")])),_:1},8,["class"]),a(s(l),{variant:"outline",size:"sm",class:x([n.value==="month"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:r[2]||(r[2]=t=>n.value="month")},{default:i(()=>r[12]||(r[12]=[g(" Month ")])),_:1},8,["class"]),a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>r[13]||(r[13]=[g(" Today ")])),_:1})])])]),n.value==="week"?(u(),y("section",Z,[e("div",ee,[r[14]||(r[14]=e("div",{class:"border-r border-gray-200 dark:border-gray-700 p-4"},[e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Employees")],-1)),(u(),y(p,null,h(w,t=>e("div",{key:t.date,class:"p-4 text-center border-r border-gray-200 dark:border-gray-700 last:border-r-0"},[e("div",re,d(t.name),1),e("div",te,d(t.date),1)])),64))]),(u(!0),y(p,null,h(P.value,t=>(u(),y("div",{key:t.id,class:"grid grid-cols-8 border-b border-gray-200 dark:border-gray-700 last:border-b-0"},[e("div",ae,[e("div",se,[e("div",de,d(V(t)),1),e("div",oe,[e("div",ie,d(t.firstName)+" "+d(t.lastName),1),e("div",le,d(t.position),1)])])]),(u(),y(p,null,h(w,(C,b)=>{var M,A,z,D;return e("div",{key:`${t.id}-${C.date}`,class:"relative border-r border-gray-200 dark:border-gray-700 p-1 last:border-r-0"},[m(t.id,b)?(u(),y("div",{key:0,class:x(["h-full rounded-md p-2 text-xs",$(((M=m(t.id,b))==null?void 0:M.status)||"")])},[e("div",ne,d(S((A=m(t.id,b))==null?void 0:A.startTime))+" - "+d(S((z=m(t.id,b))==null?void 0:z.endTime)),1),e("div",null,d((D=m(t.id,b))==null?void 0:D.position),1)],2)):W("",!0)])}),64))]))),128)),e("div",ge,[r[17]||(r[17]=F('<div class="flex items-center gap-2 text-sm"><span class="inline-block h-3 w-3 rounded-sm bg-blue-500"></span><span class="text-gray-600 dark:text-gray-300">Scheduled</span><span class="inline-block h-3 w-3 rounded-sm bg-green-500 ml-4"></span><span class="text-gray-600 dark:text-gray-300">Working</span><span class="inline-block h-3 w-3 rounded-sm bg-gray-500 ml-4"></span><span class="text-gray-600 dark:text-gray-300">Completed</span><span class="inline-block h-3 w-3 rounded-sm bg-red-500 ml-4"></span><span class="text-gray-600 dark:text-gray-300">Absent</span></div>',1)),e("div",be,[a(s(l),{variant:"outline",size:"sm",disabled:k.value===1,onClick:r[3]||(r[3]=t=>k.value--),class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>r[15]||(r[15]=[g(" Previous ")])),_:1},8,["disabled"]),a(s(l),{variant:"outline",size:"sm",disabled:k.value===T.value,onClick:r[4]||(r[4]=t=>k.value++),class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>r[16]||(r[16]=[g(" Next ")])),_:1},8,["disabled"])])])])):(u(),y("section",ye,[e("div",ue,[e("div",ce,[e("div",ke,[a(s(B),{class:"h-8 w-8 text-gray-500 dark:text-gray-400"})]),e("h3",me,d(n.value==="month"?"Monthly View":"Daily View"),1),e("p",xe,d(n.value==="month"?"Monthly calendar view will be available in a future update.":"Daily detailed view will be available in a future update."),1),a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700",onClick:r[5]||(r[5]=t=>n.value="week")},{default:i(()=>r[18]||(r[18]=[g(" Return to Weekly View ")])),_:1})])])])),e("section",pe,[r[21]||(r[21]=e("div",{class:"px-6 py-4 border-b border-gray-100 dark:border-gray-700"},[e("h2",{class:"text-lg font-bold dark:text-white"},"Open Shifts"),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Shifts that need to be assigned")],-1)),e("div",he,[e("table",ve,[r[20]||(r[20]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"Date"),e("th",{class:"px-6 py-3"},"Time"),e("th",{class:"px-6 py-3"},"Location"),e("th",{class:"px-6 py-3"},"Position"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",fe,[(u(),y(p,null,h(_,t=>e("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",we,d(t.date),1),e("td",_e,d(t.time),1),e("td",Se,d(t.location),1),e("td",Ce,d(t.position),1),e("td",Me,[a(s(l),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:i(()=>r[19]||(r[19]=[g(" Assign ")])),_:1})])])),64))])])]),e("div",Ae,[e("div",ze," Showing "+d(_.length)+" open shifts ",1)])])]))}});export{Ee as default};
