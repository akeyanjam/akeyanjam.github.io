import{d as T,o as j,r as g,c as C,b,e as t,f as o,g as l,u as r,_ as n,q as c,t as a,i,F as E,m as S,y as F,A as J,z as U,h as k,Q as $}from"./index-CBlyhhB_.js";import{u as V}from"./employeesStore-DWx-ZwU_.js";import{F as q}from"./file-down-Dml-6Y_y.js";import{P as Q}from"./plus-DRTQa6gY.js";import{C as A}from"./chevron-left-BCqia3V6.js";import{E as W}from"./eye-BCnILvxD.js";import{P as G}from"./pencil-C1ltbjfH.js";const H={class:"commission-view dark:bg-gray-900"},K={class:"mb-6"},O={class:"flex justify-between items-center"},X={class:"flex items-center gap-2"},Y={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6"},Z={class:"flex flex-wrap items-center justify-between gap-4"},tt={class:"flex items-center space-x-2"},et={class:"flex items-center space-x-2"},st={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},at={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},rt={class:"text-2xl font-bold dark:text-white"},ot={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},dt={class:"text-emerald-500 dark:text-emerald-400 font-medium"},it={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},lt={class:"text-2xl font-bold dark:text-white"},nt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},gt={class:"text-2xl font-bold dark:text-white"},mt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4"},yt={class:"text-2xl font-bold dark:text-white"},ut={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},ct={class:"overflow-x-auto"},xt={class:"w-full border-collapse"},pt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},bt={class:"px-6 py-4 whitespace-nowrap text-center"},kt={class:"text-sm font-bold dark:text-gray-200"},ht={class:"px-6 py-4 whitespace-nowrap"},ft={class:"flex items-center"},vt={class:"h-8 w-8 rounded-full bg-blue-500 dark:bg-blue-600 flex items-center justify-center text-white font-medium text-xs"},wt={class:"ml-3"},_t={class:"text-sm font-medium dark:text-gray-200"},Ct={class:"text-xs text-gray-500 dark:text-gray-400"},Et={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},St={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},$t={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},At={class:"px-6 py-4 whitespace-nowrap"},Rt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},Lt={class:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-700"},zt={class:"relative"},Dt={class:"overflow-x-auto"},It={class:"w-full border-collapse"},Nt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Pt={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"flex items-center"},Bt={class:"h-8 w-8 rounded-full bg-blue-500 dark:bg-blue-600 flex items-center justify-center text-white font-medium text-xs"},Tt={class:"ml-3 text-sm font-medium dark:text-gray-200"},jt={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ft={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Jt={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ut={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Vt={class:"px-6 py-4 whitespace-nowrap"},qt={class:"px-6 py-4 whitespace-nowrap text-sm space-x-2"},Qt={class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},Wt={class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},Gt={class:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex items-center justify-between"},Ht={class:"text-sm text-gray-500 dark:text-gray-400"},Kt={class:"flex items-center gap-2"},Ot={class:"text-gray-700 dark:text-gray-300"},oe=T({__name:"CommissionView",setup(Xt){const m=V();j(async()=>{await m.fetchEmployees(),await m.fetchCommissions()});const y=g("monthly"),p=g(""),u=g(1),h=g(10),R=g("24,580"),L=g("6.2"),z=g("410.50"),D=g("512,740"),I=g("4.8"),N=[{id:"1",name:"Sarah Johnson",initials:"SJ",position:"Sales Manager",salesAmount:125e3,commissionRate:5.2,commissionEarned:6500,status:"paid"},{id:"2",name:"Michael Brown",initials:"MB",position:"Senior Sales Rep",salesAmount:98750,commissionRate:4.5,commissionEarned:4443.75,status:"paid"},{id:"3",name:"Emily Davis",initials:"ED",position:"Sales Representative",salesAmount:87400,commissionRate:4,commissionEarned:3496,status:"pending"},{id:"4",name:"Robert Wilson",initials:"RW",position:"Sales Representative",salesAmount:76300,commissionRate:4,commissionEarned:3052,status:"paid"},{id:"5",name:"Jennifer Lee",initials:"JL",position:"Sales Representative",salesAmount:65200,commissionRate:3.5,commissionEarned:2282,status:"pending"}],v=C(()=>{let d=m.commissions;if(p.value){const s=p.value.toLowerCase();d=d.filter(x=>{const f=m.getEmployeeById(x.employeeId);return f?`${f.firstName} ${f.lastName}`.toLowerCase().includes(s)||x.transactionId&&x.transactionId.toLowerCase().includes(s):!1})}const e=(u.value-1)*h.value;return d.slice(e,e+h.value)}),w=C(()=>Math.ceil(m.commissions.length/h.value)||1),P=d=>{const e=m.getEmployeeById(d);return e?`${e.firstName} ${e.lastName}`:"Unknown Employee"},M=d=>{const e=m.getEmployeeById(d);return e?(e.firstName.charAt(0)+e.lastName.charAt(0)).toUpperCase():"UE"},B=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=d=>{switch(d){case"paid":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100";case"approved":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"}};return(d,e)=>(k(),b("div",H,[t("header",K,[t("div",O,[e[9]||(e[9]=t("div",null,[t("h1",{class:"text-2xl font-bold dark:text-white"},"Commission Tracking"),t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Monitor sales commissions and performance incentives")],-1)),t("div",X,[o(r(n),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:l(()=>[o(r(q),{class:"mr-2 h-4 w-4"}),e[7]||(e[7]=i(" Export Data "))]),_:1}),o(r(n),{size:"sm",class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white"},{default:l(()=>[o(r(Q),{class:"mr-2 h-4 w-4"}),e[8]||(e[8]=i(" Add Commission "))]),_:1})])])]),t("section",Y,[t("div",Z,[t("div",tt,[o(r(n),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:l(()=>[o(r(A),{class:"h-4 w-4"})]),_:1}),e[10]||(e[10]=t("select",{class:"border border-gray-200 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200 py-2 px-4"},[t("option",null,"April 2025"),t("option",null,"March 2025"),t("option",null,"February 2025"),t("option",null,"January 2025")],-1)),o(r(n),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:l(()=>[o(r($),{class:"h-4 w-4"})]),_:1})]),t("div",et,[o(r(n),{variant:"outline",size:"sm",class:c([y.value==="daily"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:e[0]||(e[0]=s=>y.value="daily")},{default:l(()=>e[11]||(e[11]=[i(" Daily ")])),_:1},8,["class"]),o(r(n),{variant:"outline",size:"sm",class:c([y.value==="weekly"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:e[1]||(e[1]=s=>y.value="weekly")},{default:l(()=>e[12]||(e[12]=[i(" Weekly ")])),_:1},8,["class"]),o(r(n),{variant:"outline",size:"sm",class:c([y.value==="monthly"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:e[2]||(e[2]=s=>y.value="monthly")},{default:l(()=>e[13]||(e[13]=[i(" Monthly ")])),_:1},8,["class"]),o(r(n),{variant:"outline",size:"sm",class:c([y.value==="quarterly"?"bg-gray-100 dark:bg-gray-700":"dark:bg-gray-800","dark:text-gray-200 dark:border-gray-700"]),onClick:e[3]||(e[3]=s=>y.value="quarterly")},{default:l(()=>e[14]||(e[14]=[i(" Quarterly ")])),_:1},8,["class"])])])]),t("section",st,[t("div",at,[e[16]||(e[16]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Total Commissions",-1)),t("p",rt,"$"+a(R.value),1),t("p",ot,[t("span",dt,"+"+a(L.value)+"%",1),e[15]||(e[15]=i(" from last month "))])]),t("div",it,[e[17]||(e[17]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Average Commission",-1)),t("p",lt,"$"+a(z.value),1),e[18]||(e[18]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},[t("span",{class:"text-emerald-500 dark:text-emerald-400 font-medium"},"+2.3%"),i(" from last month ")],-1))]),t("div",nt,[e[19]||(e[19]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Total Sales Generated",-1)),t("p",gt,"$"+a(D.value),1),e[20]||(e[20]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},[t("span",{class:"text-emerald-500 dark:text-emerald-400 font-medium"},"+8.7%"),i(" from last month ")],-1))]),t("div",mt,[e[21]||(e[21]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Average Commission Rate",-1)),t("p",yt,a(I.value)+"%",1),e[22]||(e[22]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},[t("span",{class:"text-red-500 dark:text-red-400 font-medium"},"-0.2%"),i(" from last month ")],-1))])]),t("section",ut,[e[24]||(e[24]=t("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-700"},[t("div",null,[t("h2",{class:"text-lg font-bold dark:text-white"},"Top Performers"),t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Employees with the highest commission earnings this period")])],-1)),t("div",ct,[t("table",xt,[e[23]||(e[23]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[t("th",{class:"px-6 py-3"},"Rank"),t("th",{class:"px-6 py-3"},"Employee"),t("th",{class:"px-6 py-3"},"Sales Amount"),t("th",{class:"px-6 py-3"},"Commission Rate"),t("th",{class:"px-6 py-3"},"Commission Earned"),t("th",{class:"px-6 py-3"},"Status")])],-1)),t("tbody",pt,[(k(),b(E,null,S(N,(s,x)=>t("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",bt,[t("div",kt,a(x+1),1)]),t("td",ht,[t("div",ft,[t("div",vt,a(s.initials),1),t("div",wt,[t("div",_t,a(s.name),1),t("div",Ct,a(s.position),1)])])]),t("td",Et,"$"+a(s.salesAmount.toLocaleString()),1),t("td",St,a(s.commissionRate)+"%",1),t("td",$t,"$"+a(s.commissionEarned.toLocaleString()),1),t("td",At,[t("span",{class:c(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_(s.status)}`)},a(s.status),3)])])),64))])])])]),t("section",Rt,[t("div",Lt,[e[25]||(e[25]=t("div",null,[t("h2",{class:"text-lg font-bold dark:text-white"},"Recent Commission Transactions"),t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Latest commission entries in the system")],-1)),t("div",zt,[o(r(J),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4"}),F(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>p.value=s),type:"text",placeholder:"Search transactions",class:"pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200"},null,512),[[U,p.value]])])]),t("div",Dt,[t("table",It,[e[26]||(e[26]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[t("th",{class:"px-6 py-3"},"Employee"),t("th",{class:"px-6 py-3"},"Transaction ID"),t("th",{class:"px-6 py-3"},"Date Earned"),t("th",{class:"px-6 py-3"},"Sales Amount"),t("th",{class:"px-6 py-3"},"Commission"),t("th",{class:"px-6 py-3"},"Status"),t("th",{class:"px-6 py-3"},"Actions")])],-1)),t("tbody",Nt,[(k(!0),b(E,null,S(v.value,s=>(k(),b("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Pt,[t("div",Mt,[t("div",Bt,a(M(s.employeeId)),1),t("span",Tt,a(P(s.employeeId)),1)])]),t("td",jt,a(s.transactionId||"N/A"),1),t("td",Ft,a(B(s.dateEarned)),1),t("td",Jt,"$"+a(s.salesAmount.toLocaleString()),1),t("td",Ut,"$"+a(s.amount.toLocaleString()),1),t("td",Vt,[t("span",{class:c(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_(s.status)}`)},a(s.status),3)]),t("td",qt,[t("button",Qt,[o(r(W),{class:"h-4 w-4"})]),t("button",Wt,[o(r(G),{class:"h-4 w-4"})])])]))),128))])])]),t("div",Gt,[t("div",Ht," Showing "+a(v.value.length)+" of "+a(r(m).commissions.length)+" entries ",1),t("div",Kt,[o(r(n),{variant:"outline",size:"sm",disabled:u.value===1,onClick:e[5]||(e[5]=s=>u.value--),class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:l(()=>[o(r(A),{class:"h-4 w-4"}),e[27]||(e[27]=i(" Previous "))]),_:1},8,["disabled"]),t("div",Ot," Page "+a(u.value)+" of "+a(w.value),1),o(r(n),{variant:"outline",size:"sm",disabled:u.value===w.value,onClick:e[6]||(e[6]=s=>u.value++),class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:l(()=>[e[28]||(e[28]=i(" Next ")),o(r($),{class:"h-4 w-4 ml-1"})]),_:1},8,["disabled"])])])])]))}});export{oe as default};
