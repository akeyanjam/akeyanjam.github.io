import{d as D,o as L,r as p,w as U,c as z,b as i,e,f as m,g as h,u as g,_ as v,y as k,B as w,F as x,m as b,t as a,q as c,aj as _,aS as R,h as u,i as S,Q as X}from"./index-CBlyhhB_.js";import{u as F}from"./employeesStore-DWx-ZwU_.js";import{F as q}from"./file-down-Dml-6Y_y.js";const H={class:"performance-view dark:bg-gray-900"},J={class:"mb-6"},Q={class:"flex justify-between items-center"},W={class:"flex items-center gap-2"},O={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6"},Y={class:"flex flex-wrap items-center justify-between gap-4"},G={class:"flex items-center gap-3"},K=["value"],Z={class:"flex items-center gap-3"},ee={key:0},te={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6"},re={class:"flex items-center mb-6"},se={class:"h-12 w-12 rounded-full bg-blue-500 dark:bg-blue-600 flex items-center justify-center text-white font-medium"},ae={class:"ml-4"},oe={class:"text-xl font-bold dark:text-white"},le={class:"text-gray-500 dark:text-gray-400"},de={class:"ml-auto flex items-center"},ne={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},ie={class:"text-2xl font-bold dark:text-white"},ue={class:"text-2xl font-bold dark:text-white"},ge={class:"text-2xl font-bold dark:text-white"},ce={class:"text-2xl font-bold dark:text-white"},me={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6"},ye={class:"h-8 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},xe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},be={class:"p-6"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pe={class:"flex items-center justify-between mb-2"},he={class:"text-sm font-medium dark:text-white"},ve={class:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden mb-1"},ke={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},we={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6"},_e={class:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center"},Se={class:"overflow-x-auto"},Te={class:"w-full border-collapse"},Ce={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Pe={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ee={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ne={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Ae={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},Me={class:"px-6 py-4 whitespace-nowrap dark:text-gray-200"},je={key:1,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-8 flex items-center justify-center"},Be={class:"text-center"},$e={class:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 dark:bg-gray-700 mb-4"},Ue=D({__name:"PerformanceView",setup(Ie){const d=F();L(async()=>{await d.fetchEmployees(),await d.fetchPerformances()});const l=p(""),f=p("month");U(()=>d.employees,r=>{r.length>0&&!l.value&&(l.value=r[0].id)},{immediate:!0});const o=z(()=>{if(!l.value)return null;const r=d.performances.filter(t=>t.employeeId===l.value);return r.length?r[0]:null}),T=[{id:"TX-7829",date:"2025-04-28",customer:"John Smith",amount:1250,commission:50},{id:"TX-7814",date:"2025-04-27",customer:"Sarah Williams",amount:894.5,commission:35.78},{id:"TX-7798",date:"2025-04-25",customer:"Michael Brown",amount:3450,commission:138},{id:"TX-7783",date:"2025-04-24",customer:"Jennifer Davis",amount:785.25,commission:31.41},{id:"TX-7772",date:"2025-04-23",customer:"Robert Wilson",amount:1675,commission:67}],C=r=>{const t=d.getEmployeeById(r);return t?`${t.firstName} ${t.lastName}`:"Unknown Employee"},P=r=>{const t=d.getEmployeeById(r);return t?(t.firstName.charAt(0)+t.lastName.charAt(0)).toUpperCase():"UE"},E=r=>{const t=d.getEmployeeById(r);return t?t.position:"Unknown"},n=r=>Math.round(r.salesAchieved/r.salesTarget*100),N=r=>{const t=n(r);return t>=100?"text-emerald-500 dark:text-emerald-400 font-medium":t>=75?"text-blue-500 dark:text-blue-400 font-medium":t>=50?"text-yellow-500 dark:text-yellow-400 font-medium":"text-red-500 dark:text-red-400 font-medium"},A=r=>{const t=n(r);return t>=100?"bg-emerald-500":t>=75?"bg-blue-500":t>=50?"bg-yellow-500":"bg-red-500"},M=r=>{const t=n(r);return t>=100?"Exceeding Target":t>=75?"On Track":t>=50?"Needs Improvement":"Below Target"},j=r=>{const t=n(r);return t>=100?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/20 dark:text-emerald-300":t>=75?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":t>=50?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"},B=r=>{const t=n(r);return t>=100?"bg-emerald-500":t>=75?"bg-blue-500":t>=50?"bg-yellow-500":"bg-red-500"},y=r=>Math.round(r.value/r.target*100),$=r=>{const t=y(r);return t>=100?"text-emerald-500 dark:text-emerald-400 font-medium":t>=75?"text-blue-500 dark:text-blue-400 font-medium":t>=50?"text-yellow-500 dark:text-yellow-400 font-medium":"text-red-500 dark:text-red-400 font-medium"},I=r=>{const t=y(r);return t>=100?"bg-emerald-500":t>=75?"bg-blue-500":t>=50?"bg-yellow-500":"bg-red-500"};return(r,t)=>(u(),i("div",H,[e("header",J,[e("div",Q,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-2xl font-bold dark:text-white"},"Employee Performance"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Track and analyze employee performance metrics")],-1)),e("div",W,[m(g(v),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:h(()=>[m(g(q),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=S(" Export Report "))]),_:1})])])]),e("section",O,[e("div",Y,[e("div",G,[t[4]||(t[4]=e("label",{class:"font-medium text-gray-700 dark:text-gray-300"},"Employee:",-1)),k(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),class:"border border-gray-200 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200 py-2 px-4 min-w-[200px]"},[(u(!0),i(x,null,b(g(d).employees,s=>(u(),i("option",{key:s.id,value:s.id},a(s.firstName)+" "+a(s.lastName)+" - "+a(s.position),9,K))),128))],512),[[w,l.value]])]),e("div",Z,[t[6]||(t[6]=e("label",{class:"font-medium text-gray-700 dark:text-gray-300"},"Time Period:",-1)),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),class:"border border-gray-200 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200 py-2 px-4"},t[5]||(t[5]=[e("option",{value:"month"},"This Month",-1),e("option",{value:"quarter"},"This Quarter",-1),e("option",{value:"year"},"This Year",-1),e("option",{value:"custom"},"Custom Range",-1)]),512),[[w,f.value]])])])]),o.value?(u(),i("div",ee,[e("section",te,[e("div",re,[e("div",se,a(P(l.value)),1),e("div",ae,[e("h2",oe,a(C(l.value)),1),e("p",le,a(E(l.value))+" - "+a(o.value.period),1)]),e("div",de,[e("div",{class:c(["flex items-center px-3 py-1 rounded-full text-sm",j(o.value)])},[e("span",{class:c(["h-2 w-2 rounded-full mr-2",B(o.value)])},null,2),e("span",null,a(M(o.value)),1)],2)])]),e("div",ne,[e("div",null,[t[7]||(t[7]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Sales Target",-1)),e("p",ie,"$"+a(o.value.salesTarget.toLocaleString()),1)]),e("div",null,[t[8]||(t[8]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Sales Achieved",-1)),e("p",ue,"$"+a(o.value.salesAchieved.toLocaleString()),1),e("p",{class:c(["text-xs mt-1",N(o.value)])},a(n(o.value))+"% of target ",3)]),e("div",null,[t[9]||(t[9]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Customer Satisfaction",-1)),e("p",ge,a(o.value.customerSatisfaction)+"/5",1)]),e("div",null,[t[10]||(t[10]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"},"Avg. Transaction Value",-1)),e("p",ce,"$"+a(o.value.avgTransactionValue.toLocaleString()),1)])])]),e("section",me,[t[11]||(t[11]=e("h2",{class:"text-lg font-bold mb-4 dark:text-white"},"Sales Progress",-1)),e("div",ye,[e("div",{class:c(["h-full text-center text-xs text-white flex items-center justify-center transition-all duration-500",A(o.value)]),style:_({width:`${n(o.value)}%`})},a(n(o.value))+"% ",7)])]),e("section",xe,[t[13]||(t[13]=e("div",{class:"px-6 py-4 border-b border-gray-100 dark:border-gray-700"},[e("h2",{class:"text-lg font-bold dark:text-white"},"Performance Metrics")],-1)),e("div",be,[e("div",fe,[(u(!0),i(x,null,b(o.value.metrics,s=>(u(),i("div",{key:s.name,class:"flex flex-col"},[e("div",pe,[e("h3",he,a(s.name),1),e("span",{class:c(["text-sm",$(s)])},a(y(s))+"% ",3)]),e("div",ve,[e("div",{class:c(["h-full transition-all duration-500",I(s)]),style:_({width:`${y(s)}%`})},null,6)]),e("div",ke,[t[12]||(t[12]=e("span",null,"0",-1)),e("span",null,"Target: "+a(s.target),1),e("span",null,a(Math.round(s.target*1.5)),1)])]))),128))])])]),e("section",we,[e("div",_e,[t[15]||(t[15]=e("div",null,[e("h2",{class:"text-lg font-bold dark:text-white"},"Transaction History"),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Recent sales transactions")],-1)),m(g(v),{variant:"outline",size:"sm",class:"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700"},{default:h(()=>[t[14]||(t[14]=S(" View All ")),m(g(X),{class:"h-4 w-4 ml-1"})]),_:1})]),e("div",Se,[e("table",Te,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},[e("th",{class:"px-6 py-3"},"Transaction ID"),e("th",{class:"px-6 py-3"},"Date"),e("th",{class:"px-6 py-3"},"Customer"),e("th",{class:"px-6 py-3"},"Amount"),e("th",{class:"px-6 py-3"},"Commission")])],-1)),e("tbody",Ce,[(u(),i(x,null,b(T,(s,V)=>e("tr",{key:V,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Pe,a(s.id),1),e("td",Ee,a(s.date),1),e("td",Ne,a(s.customer),1),e("td",Ae,"$"+a(s.amount.toLocaleString()),1),e("td",Me,"$"+a(s.commission.toLocaleString()),1)])),64))])])])])])):(u(),i("div",je,[e("div",Be,[e("div",$e,[m(g(R),{class:"h-8 w-8 text-gray-500 dark:text-gray-400"})]),t[17]||(t[17]=e("h3",{class:"text-lg font-medium dark:text-white"},"No Performance Data",-1)),t[18]||(t[18]=e("p",{class:"text-gray-500 dark:text-gray-400 mt-1 mb-4 max-w-md"}," Select an employee to view their performance data or no data exists for the selected employee and time period. ",-1))])]))]))}});export{Ue as default};
